<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>编程开发 on Daniex </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://www.daniex.tk/categories/E7BC96E7A88BE5BC80E58F91/index.xml/</link>
    <language>zh-cn</language>
    <author>Daniex</author>
    
    <updated>Mon, 13 May 2013 02:05:57 &#43;0000</updated>
    
    <item>
      <title>px、dip、sp区别及apk的drawable资源包关系</title>
      <link>http://www.daniex.tk/blog/2013/px-dip-sp-difference-and-apk-drawable-resource-bundles-relationship/</link>
      <pubDate>Mon, 13 May 2013 02:05:57 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2013/px-dip-sp-difference-and-apk-drawable-resource-bundles-relationship/</guid>
      <description>

&lt;p&gt;感谢Neak同学提出下面引用文章的分歧点，文章中存在这样的两个说法，下文中已分别标红和标蓝。【在每英寸160点的显示器上，1dp = 1px。】【density=240时 屏幕实际分辨率为480px*800px （一个点对于一个分辨率）】&lt;/p&gt;

&lt;p&gt;查阅 androd api guides发现有入下描述：&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://developer.android.com/guide/practices/screens_support.html&#34;&gt;http://developer.android.com/guide/practices/screens_support.html&lt;/a&gt;
&lt;blockquote&gt;&lt;em&gt;Density-independent pixel (dp)&lt;/em&gt;A virtual pixel unit that you should use when defining UI layout, to express layout dimensions or position in a density-independent way.&lt;/p&gt;

&lt;p&gt;The density-independent pixel is equivalent to one physical pixel on a 160 dpi screen, which is the baseline density assumed by the system for a &amp;ldquo;medium&amp;rdquo; density screen. At runtime, the system transparently handles any scaling of the dp units, as necessary, based on the actual density of the screen in use. The conversion of dp units to screen pixels is simple: &lt;code&gt;px = dp * (dpi / 160)&lt;/code&gt;. For example, on a 240 dpi screen, 1 dp equals 1.5 physical pixels. You should always use dp units when defining your application&amp;rsquo;s UI, to ensure proper display of your UI on screens with different densities.&lt;/blockquote&gt;
即android定义density=160的屏幕定位一个基准（basline），在这个基准下1px=1dp。下文标红文字是根据官方baseline转述的。标蓝色的字体中有一段描述【不同density下屏幕分辨率信息，以480dip*800dip的WVGA(density=240)为例。】假设density=240为baseline，则px及dp对应关系正如原文作者罗列表述。&lt;/p&gt;

&lt;p&gt;由此看来，转240为baseline，可以看出原作者对px和dp的理解到位，描述出来时其实无必要转换baseline，以免混淆视听。&lt;/p&gt;

&lt;p&gt;=======================================================================================&lt;/p&gt;

&lt;p&gt;下文来自 &lt;a title=&#34;px、dip、sp区别和使用方法&#34; href=&#34;http://www.cnblogs.com/warioland/archive/2011/10/17/2215110.html&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://www.cnblogs.com/warioland/archive/2011/10/17/2215110.html&#34;&gt;http://www.cnblogs.com/warioland/archive/2011/10/17/2215110.html&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;px、dip、sp区别和使用方法&lt;/p&gt;

&lt;p&gt;一、 概述&lt;/p&gt;

&lt;p&gt;我们在页面布局的时候，经常会设置容器的长度，但是到底该使用哪个作为长度的单位而懊恼。&lt;/p&gt;

&lt;p&gt;在Android中支持的描述大小区域的类型有以下几种。&lt;/p&gt;

&lt;p&gt;px(pixels)——像素：不同的设备显示效果相同，一般我们HVGA代表320x480像素，这个用的比较多。&lt;/p&gt;

&lt;p&gt;dip(device independent pixels)——设备独立像素：这个和设备硬件有关，一般哦我们为了支持WCGA、HVGA和QVGA推荐使用这个，不依赖于像素。等同于dp。&lt;/p&gt;

&lt;p&gt;sp(scaled pixels—best for text size)——带比例的像素。&lt;/p&gt;

&lt;p&gt;pt(points)——磅：1pt = 1/72英寸&lt;/p&gt;

&lt;p&gt;in(inches)——英寸&lt;/p&gt;

&lt;p&gt;mm(millimeters)——毫米&lt;/p&gt;

&lt;p&gt;二、 详解&lt;/p&gt;

&lt;p&gt;sp由于是放大像素，主要是用于字体显示，由此根据google的建议，TextView的字体大小最好用sp做单位，而且查看TextView的源码可知Android默认使用水平作为字号单位。&lt;/p&gt;

&lt;p&gt;在Android中最常用到的还是px和dip。但是这两个之间到底有什么区别呢？&lt;/p&gt;

&lt;p&gt;在HVGA屏density=160；QVGA屏density=120；WVGA屏density=240；WQVGA屏density=120 density值表示每英寸有多少个显示点，与分辨率是两个概念。&lt;span style=&#34;color: #0000ff;&#34;&gt;不同density下屏幕分辨率信息，以480dip*800dip的WVGA(density=240)为例。&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;density=120时 屏幕实际分辨率为240px*400px （两个点对应一个分辨率）
状态栏和标题栏高各19px或者25dip
横屏是屏幕宽度400px 或者800dip,工作区域高度211px或者480dip
竖屏时屏幕宽度240px或者480dip,工作区域高度381px或者775dip&lt;/p&gt;

&lt;p&gt;density=160时 屏幕实际分辨率为320px*533px （3个点对应两个分辨率）
状态栏和标题栏高个25px或者25dip
横屏是屏幕宽度533px 或者800dip,工作区域高度295px或者480dip
竖屏时屏幕宽度320px或者480dip,工作区域高度508px或者775dip&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;density=240时 屏幕实际分辨率为480px*800px （一个点对于一个分辨率）&lt;/span&gt;
状态栏和标题栏高个38px或者25dip
横屏是屏幕宽度800px 或者800dip,工作区域高度442px或者480dip
竖屏时屏幕宽度480px或者480dip,工作区域高度762px或者775dip&lt;/p&gt;

&lt;p&gt;apk的资源包中，当屏幕density=240时使用hdpi 标签的资源
当屏幕density=160时，使用mdpi标签的资源
当屏幕density=120时，使用ldpi标签的资源。
不加任何标签的资源是各种分辨率情况下共用的。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;引用 Android上dip、dp、px、sp等单位说明&lt;/p&gt;

&lt;p&gt;本文引用自shixin20051108《Android上dip、dp、px、sp等单位说明》&lt;/p&gt;

&lt;p&gt;[ dip: device independent pixels(设备独立像素). 不同设备有不同的显示效果,这个和设备硬件有关，一般我们为了支持WVGA、HVGA和QVGA 推荐使用这个，不依赖像素。
px: pixels(像素). 不同设备显示效果相同，一般我们HVGA代表320x480像素，这个用的比较多。
pt: point，是一个标准的长度单位，1pt＝1/72英寸，用于印刷业，非常简单易用；&lt;/p&gt;

&lt;h1 id=&#34;toc_0&#34;&gt;sp: scaled pixels(放大像素). 主要用于字体显示best for textsize。&lt;/h1&gt;

&lt;p&gt;关于换算（以 sp 和 pt 为例）
查看 TextView 等类的源码，可知：
case COMPLEX_UNIT_PX:
return value;
case COMPLEX_UNIT_SP:
return value * metrics.scaledDensity;
case COMPLEX_UNIT_PT:
return value * metrics.xdpi * (1.0f/72);
－－－－－－－－－－－－－－－－－－－－－－－－－－
scaledDensity = DENSITY_DEVICE / (float) DENSITY_DEFAULT;
xdpi = DENSITY_DEVICE;
－－－－－－－－－－－－－－－－－－－－－－－－－－&lt;/p&gt;

&lt;h1 id=&#34;toc_1&#34;&gt;DENSITY_DEFAULT = DENSITY_MEDIUM = 160;&lt;/h1&gt;

&lt;p&gt;所以： 假设 pt 和 sp 取相同的值 1，则可设 1pt 和 1sp 之间系数为 x，
1 * DENSITY_DEVICE / 72 = x * 1 * DENSITY_DEVICE / 160 =&amp;amp;gt;
x = 160 / 72 = 2.2222&lt;/p&gt;

&lt;h1 id=&#34;toc_2&#34;&gt;也就是说在 Android 中， 1pt 大概等于 2.22sp&lt;/h1&gt;

&lt;p&gt;什么是Dip和Sp
过去，程序员通常以像素为单位设计计算机用户界面。例如，定义一个宽度为300像素的表单字段，列之间的间距为5个像素，图标大小为16×16像素等。这样处理的问题在于，如果在一个每英寸点数（dpi）更高的新显示器上运行该程序，则用户界面会显得很小。在有些情况下，用户界面可能会小到难以看清内容。
与分辨率无关的度量单位可以解决这一问题。Android支持下列所有单位。
px（像素）：屏幕上的点。
in（英寸）：长度单位。
mm（毫米）：长度单位。
pt（磅）：1/72英寸。
&lt;span style=&#34;color: #ff0000;&#34;&gt;dp（与密度无关的像素）：一种基于屏幕密度的抽象单位。在每英寸160点的显示器上，1dp = 1px。&lt;/span&gt;
dip：与dp相同，多用于android/ophone示例中。
sp（与刻度无关的像素）：与dp类似，但是可以根据用户的字体大小首选项进行缩放。
为了使用户界面能够在现在和将来的显示器类型上正常显示，建议大家始终使用sp作为文字大小的单位，将dip作为其他元素的单位。当然，也可以考虑使用矢量图形，而不是用位图&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;dip: device independent pixels(设备独立像素). 不同设备有不同的显示效果,这个和设备硬件有关，一般我们为了支持WVGA、HVGA和QVGA 推荐使用这个，不依赖像素。
px: pixels(像素). 不同设备显示效果相同，一般我们HVGA代表320x480像素，这个用的比较多。
pt: point，是一个标准的长度单位，1pt＝1/72英寸，用于印刷业，非常简单易用；
sp: scaled pixels(放大像素). 主要用于字体显示best for textsize。由此，根据 google 的建议，TextView 的
字号最好使用 sp 做单位，而且查看TextView的源码可知 Android 默认使用 sp 作为字号单位。
在 Android 中， 1pt 大概等于 2.22sp以上供参考，如果 UI 能够以 sp 为单位提供设计是最好的，如果设计中没有 sp的概念，则开发人员也可以通过适当的换算取近似值。
过去，程序员通常以像素为单位设计计算机用户界面。例如，定义一个宽度为300像素的表单字段，列之间的间距为5个像素，图标大小为16×16像素等。这样处理的问题在于，如果在一个每英寸点数（dpi）更高的新显示器上运行该程序，则用户界面会显得很小。在有些情况下，用户界面可能会小到难以看清内容。
与分辨率无关的度量单位可以解决这一问题。Android支持下列所有单位。
px（像素）：屏幕上的点。
in（英寸）：长度单位。
mm（毫米）：长度单位。
pt（磅）：1/72英寸。
dp（与密度无关的像素）：一种基于屏幕密度的抽象单位。&lt;span style=&#34;color: #ff0000;&#34;&gt;在每英寸160点的显示器上，1dp = 1px。&lt;/span&gt;
dip：与dp相同，多用于android/ophone示例中。
sp（与刻度无关的像素）：与dp类似，但是可以根据用户的字体大小首选项进行缩放。
分辨率:整个屏是多少点，比如800x480，它是对于软件来说的显示单位，以px为单位的点。 density(密度)值表示每英寸有多少个显示点，与分辨率是两个概念。apk的资源包中，
当屏幕density=240时使用hdpi标签的资源
当屏幕density=160时，使用mdpi标签的资源
当屏幕density=120时，使用ldpi标签的资源。
一般android设置长度和宽度多用dip,设置字体大小多用sp. 在屏幕密度为160，1dp=1px=1dip, 1pt = &lt;sup&gt;160&lt;/sup&gt;&amp;frasl;&lt;sub&gt;72&lt;/sub&gt; sp 1pt = &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;72&lt;/sub&gt; 英寸.当屏幕密度为240时，1dp=1dip=1.5px.
为了使用户界面能够在现在和将来的显示器类型上正常显示，建议大家始终使用sp作为文字大小的单位，将dip作为其他元素的单位。当然，也可以考虑使用矢量图形，而不是用位图。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CAN简介</title>
      <link>http://www.daniex.tk/blog/2013/can-introduction/</link>
      <pubDate>Sun, 17 Mar 2013 08:22:51 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2013/can-introduction/</guid>
      <description>&lt;p&gt;CAN全称为Controller Area Network，即控制器局域网，由德国Bosch公司最先提出，是国际上应用最广泛的现场总线之一。最初CAN 被设计作为汽车环境中的通讯，在汽车电子控制装置之间交换信息形成汽车电子控制网络。由于其卓越的性能、极高的可靠性和低廉的价格现已广泛应用于工业现场控制、医疗仪器等众多领域。&lt;/p&gt;

&lt;p&gt;CAN协议是建立在OSI 7层开放互连参考模型基础之上的。但CAN协议只定义了模型的最下面两层:数据链路层和物理层，仅保证了节点间无差错的数据传输。CAN的应用层协议必须由CAN 用户自行定义，或采用一些国际组织制订的标准协议。应用最为广泛的是DeviceNet和CANopen，分别广泛应用于过程控制和机电控制领域。但此类协议一般结构比较复杂，更适合复杂大型系统的应用。
&lt;div&gt;
&lt;div id=&#34;pageNo-1&#34; data-page-no=&#34;1&#34; data-scale=&#34;0.70709782964164&#34; data-render=&#34;1&#34;&gt;&lt;/p&gt;

&lt;p&gt; CAN的技术规范&lt;/p&gt;

&lt;p&gt;(1) 帧类型&lt;/p&gt;

&lt;p&gt;在CAN总线中，有四种不同的帧类型:&lt;/p&gt;

&lt;p&gt;数据帧(Data Frame) 数据帧带有应用数据;&lt;/p&gt;

&lt;p&gt;远程帧(Remote Frame) 通过发送远程帧可以向网络请求数据，启动其他资源节点传送他们各自的数据，远程帧包含6个不同的位域:帧起始、仲裁域、控制域、CRC域、应答域、帧结尾。仲裁域中的RTR位的隐极性表示为远程帧;&lt;/p&gt;

&lt;p&gt;错误帧(Error Frame)错误帧能够报告每个节点的出错，由两个不同的域组成，第一个域是不同站提供的错误标志的叠加，第二个域是错误界定符;&lt;/p&gt;

&lt;p&gt;过载帧(Overload Frame)如果节点的接收尚未准备好就会传送过载帧，由两个不同的域组成，第一个域是过载标志，第二个域是过载界定符。&lt;/p&gt;

&lt;p&gt;(2) 数据帧结构&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-1215&#34; alt=&#34;20130317161704028&#34; src=&#34;http://daniex.info/wp-content/uploads/2013/03/20130317161704028.png&#34; width=&#34;548&#34; height=&#34;331&#34; /&gt;数据帧由以下7个不同的位域(Bit Field)组成:帧起始、仲裁域、控制域、数据域、CRC域、应答域、帧结尾。&lt;/p&gt;

&lt;p&gt;帧起始:标志帧的开始，它由单个显性位构成，在总线空闲时发送，在总线上产生同步作用。&lt;/p&gt;

&lt;p&gt;仲裁域:由11位标识符(ID10-ID0)和远程发送请求位(RTR)组成，RTR位为显性表示该帧为数据帧，隐性表示该帧为远程帧;标识符由高至低按次序发送，且前7位 (ID10-ID4)不能全为显性位。标识符ID用来描述数据的含义而不用于通信寻址，CAN总线的帧是没有寻址功能的。标识符还用于决定报文的优先权，ID值越低优先权越高，在竞争总线时，优先权高的报文优先发送，优先权低报文退出总线竞争。CAN总线竞争的算法效率很高，是一种非破坏性竞争。&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;div id=&#34;pageNo-2&#34; data-page-no=&#34;2&#34; data-scale=&#34;0.70709782964164&#34; data-render=&#34;1&#34;&gt;&lt;/p&gt;

&lt;p&gt;控制域:为数据长度码 (DLC3-DLC0)，表示数据域中数据的字节数，不得超过8。&lt;/p&gt;

&lt;p&gt;数据域:由被发送数据组成，数目与控制域中设定的字节数相等，第一个字节的最高位首先被发送。其长度在标准帧中不超过8个字节。&lt;/p&gt;

&lt;p&gt;CRC域:包括CRC(循环冗余码校验)序列(15位)和CRC界定符(1个隐性位)，用于帧校验。&lt;/p&gt;

&lt;p&gt;应答域:由应答间隙和应答界定符组成，共两位;发送站发送两个隐性位，接收站在应答间隙中发送显性位。应答界定符必须是隐性位。&lt;/p&gt;

&lt;p&gt;帧结束:由7位隐性位组成。&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>资源管理器工具栏菜单栏不见了！</title>
      <link>http://www.daniex.tk/blog/2013/the-explorer-toolbar-menu-bar-is-gone/</link>
      <pubDate>Tue, 15 Jan 2013 02:16:09 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2013/the-explorer-toolbar-menu-bar-is-gone/</guid>
      <description>&lt;p&gt;办公电脑坑爹地出了个奇怪问题，win+E 键掉资源管理器，发现菜单没有了！工具栏没有了！地址栏也没有了！就只剩左边文件夹树状图和右边我的电脑下盘符列表。打开我的电脑又很正常该有的都有！&lt;/p&gt;

&lt;p&gt;这XP都要淘汰了还让我整这问题。。。找到个方法：&lt;/p&gt;

&lt;p&gt;&lt;span style=&#34;color: #000000;&#34;&gt;打开注册表编辑器，找到 HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\Toolbar\Explorer，删除 ITBarLayout 。然后关闭编辑器，再打开&lt;b&gt;资源管理器&lt;/b&gt;。OK搞定！&lt;/span&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用JavaMail API</title>
      <link>http://www.daniex.tk/blog/2012/the-javamail-api/</link>
      <pubDate>Fri, 27 Jan 2012 11:58:33 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2012/the-javamail-api/</guid>
      <description>&lt;p&gt;使用JavaMail API，接上文&lt;a title=&#34;javax.mail.internet API 学习&#34; href=&#34;http://daniex.info/javax-mail-internet-api.html&#34; target=&#34;_blank&#34;&gt;&lt;span style=&#34;color: #3366ff;&#34;&gt;javax.mail.internet api 学习&lt;/span&gt;
&lt;/a&gt;1．发送邮件
在获得了Session后，建立并填入邮件信息，然后发送它到邮件服务器。这便是使用Java Mail API发送邮件的过程，在发送邮件之前，我们需要设置SMTP服务器：通过设置Properties的mail.smtp.host属性。
&lt;blockquote&gt;String host = &amp;hellip;;
String from = &amp;hellip;;
String to = &amp;hellip;;
// Get system properties
Properties props = System.getProperties();
// Setup mail server
props.put(&amp;ldquo;mail.smtp.host&amp;rdquo;, host);
// Get session
Session session = Session.getDefaultInstance(props, null);// Define message
MimeMessage message = new MimeMessage(session);
message.setFrom(new InternetAddress(from));message.addRecipient(Message.RecipientType.TO,   new InternetAddress(to));message.setSubject(&amp;ldquo;Hello JavaMail&amp;rdquo;);
message.setText(&amp;ldquo;Welcome to JavaMail&amp;rdquo;);
// Send message
Transport.send(message);&lt;/blockquote&gt;
由于建立邮件信息和发送邮件的过程中可能会抛出异常，所以我们需要将上面的代码放入到try-catch结构块中。
2．接收邮件
为了在读取邮件，我们获得了session，并且连接到了邮箱的相应store，打开相应的Folder，然后得到我们想要的邮件，当然别忘记了在结束时关闭连接。
&lt;blockquote&gt;String host = &amp;hellip;;
String username = &amp;hellip;;
String password = &amp;hellip;;
// Create empty properties
Properties props = new Properties();
// Get session
Session session = Session.getDefaultInstance(props, null);
// Get the store
Store store = session.getStore(&amp;ldquo;pop3&amp;rdquo;);
store.connect(host, username, password);
// Get folder
Folder folder = store.getFolder(&amp;ldquo;INBOX&amp;rdquo;);
folder.open(Folder.READ_ONLY);
// Get directory
Message message[] = folder.getMessages();
for (int i=0, n=message.length; i++)&amp;hellip;&lt;/blockquote&gt;
上面的代码所作的是从邮箱中读取每个邮件，并且显示邮件的发信人地址和主题。从技术角度讲，这里存在着一个异常的可能：当发信人地址为空时，getFrom()[0]将抛出异常。&lt;/p&gt;

&lt;p&gt;下 面的代码片断有效的说明了如何读取邮件内容，在显示每个邮件发信人和主题后，将出现用户提示从而得到用户是否读取该邮件的确认，如果输入YES的话，我们 可用Message.writeTo(java.io.OutputStream os)方法将邮件内容输出到控制台上，关于 Message.writeTo()的具体用法请看JavaMail API。
&lt;blockquote&gt;BufferedReader reader = new BufferedReader (  new InputStreamReader(System.in));
// Get directory
Message message[] = folder.getMessages();
for (int i=0, n=message.length; i&amp;hellip;&lt;/blockquote&gt;
3．删除邮件和标志
设置与message相关的Flags是删除邮件的常用方法。这些Flags表示了一些系统定义和用户定义的不同状态。在Flags类的内部类Flag中预定义了一些标志：
&lt;blockquote&gt;Flags.Flag.ANSWERED
Flags.Flag.DELETED
Flags.Flag.DRAFT
Flags.Flag.FLAGGED
Flags.Flag.RECENT
Flags.Flag.SEEN
Flags.Flag.USER&lt;/blockquote&gt;
但 需要在使用时注意的：标志存在并非意味着这个标志被所有的邮件服务器所支持。例如，对于删除邮件的操作，POP协议不支持上面的任何一个。所以要确定哪些 标志是被支持的??通过访问一个已经打开的Folder对象的getPermanetFlags()方法，它将返回当前被支持的Flags类对象。
删除邮件时，我们可以设置邮件的DELETED标志：
&lt;blockquote&gt;message.setFlag(Flags.Flag.DELETED, true);&lt;/blockquote&gt;
但是首先要采用READ_WRITE的方式打开Folder：
&lt;blockquote&gt;folder.open(Folder.READ_WRITE);&lt;/blockquote&gt;
在对邮件进行删除操作后关闭Folder时，需要传递一个true作为对删除邮件的擦除确认。
&lt;blockquote&gt;folder.close(true);&lt;/blockquote&gt;
Folder类中另一种用于删除邮件的方法expunge()也同样可删除邮件，但是它并不为sun提供的POP3实现支持，而其它第三方提供的POP3实现支持或者并不支持这种方法。
另外，介绍一种检查某个标志是否被设置的方法：Message.isSet(Flags.Flag flag)方法，其中参数为被检查的标志。&lt;/p&gt;

&lt;p&gt;4．邮件认证
我 们在前面已经学会了如何使用Authenticator类来代替直接使用用户名和密码这两字符串作为 Session.getDefaultInstance()或者Session.getInstance()方法的参数。在前面的小试牛刀后，现在我们将 了解到全面认识一下邮件认证。
我们在此取代了直接使用邮件服务器主机名、用户名、密码这三个字符串作为连接到POP3 Store的方式，使用存储了邮件服务器主机名信息的属性文件，并在获得Session时传入自定义的Authenticator实例：
&lt;blockquote&gt;// Setup properties
Properties props = System.getProperties();
props.put(&amp;ldquo;mail.pop3.host&amp;rdquo;, host);
// Setup authentication, get session
Authenticator auth = new PopupAuthenticator();
Session session = Session.getDefaultInstance(props, auth);
// Get the store
Store store = session.getStore(&amp;ldquo;pop3&amp;rdquo;);
store.connect();&lt;/blockquote&gt;
PopupAuthenticator 类继承了抽象类Authenticator，并且通过重载Authenticator类的getPasswordAuthentication()方法返 回PasswordAuthentication类对象。而getPasswordAuthentication()方法的参数param是以逗号分割的 用户名、密码组成的字符串。
&lt;blockquote&gt;import javax.mail.&lt;em&gt;;
import java.util.&lt;/em&gt;;&lt;/p&gt;

&lt;p&gt;public class PopupAuthenticator extends Authenticator {
public PasswordAuthentication getPasswordAuthentication(String param) {
String username, password;
StringTokenizer st = new StringTokenizer(param, &amp;rdquo;,&amp;ldquo;);
username = st.nextToken();
password = st.nextToken();
return new PasswordAuthentication(username, password);
}
}&lt;/blockquote&gt;
5．回复邮件
回复邮件的方法很简单：使用Message类的reply()方法，通过配 置回复邮件的收件人地址和主题（如果没有提供主题的话，系统将默认将“Re：”作为邮件的主体），这里不需要设置任何的邮件内容，只要复制发信人或者 reply-to到新的收件人。而reply()方法中的boolean参数表示是否将邮件回复给发送者（参数值为false），或是恢复给所有人（参数 值为true）。
补充一下，reply-to地址需要在发信时使用setReplyTo()方法设置。
&lt;blockquote&gt;MimeMessage reply = (MimeMessage)message.reply(false);
reply.setFrom(new InternetAddress(&amp;ldquo;president@whitehouse.gov&amp;rdquo;));
reply.setText(&amp;ldquo;Thanks&amp;rdquo;);
Transport.send(reply);&lt;/blockquote&gt;
6．转发邮件
转发邮件的过程不如前面的回复邮件那样简单，它将建立一个转发邮件，这并非一个方法就能做到。
每 个邮件是由多个部分组成，每个部分称为一个邮件体部分，是一个BodyPart类对象，对于MIME类型邮件来讲就是MimeBodyPart类对象。这 些邮件体包含在成为Multipart的容器中对于MIME类型邮件来讲就是MimeMultiPart类对象。在转发邮件时，我们建立一个文字邮件体部 分和一个被转发的文字邮件体部分，然后将这两个邮件体放到一个Multipart中。说明一下，复制一个邮件内容到另一个邮件的方法是仅复制它的 DataHandler（数据处理者）即可。这是由JavaBeans Activation Framework定义的一个类，它提供了对邮件内容的操 作命令的访问、管理了邮件内容操作，是不同的数据源和数据格式之间的一致性接口。
&lt;blockquote&gt;// Create the message to forward
Message forward = new MimeMessage(session);
// Fill in header
forward.setSubject(&amp;ldquo;Fwd: &amp;rdquo; + message.getSubject());
forward.setFrom(new InternetAddress(from));
forward.addRecipient(Message.RecipientType.TO,   new InternetAddress(to));
// Create your new message part
BodyPart messageBodyPart = new MimeBodyPart();
messageBodyPart.setText(  &amp;rdquo;Here you go with the original message:\n\n&amp;rdquo;);
// Create a multi-part to combine the parts
Multipart multipart = new MimeMultipart();
multipart.addBodyPart(messageBodyPart);
// Create and fill part for the forwarded content
messageBodyPart = new MimeBodyPart();
messageBodyPart.setDataHandler(message.getDataHandler());
// Add part to multi part
multipart.addBodyPart(messageBodyPart);
// Associate multi-part with message
forward.setContent(multipart);
// Send message
Transport.send(forward);&lt;/blockquote&gt;
7．使用附件
附件作为与邮件相关的资源经常以文本、表格、图片等格式出现，如流行的邮件客户端一样，我们可以用JavaMail API从邮件中获取附件或是发送带有附件的邮件。&lt;/p&gt;

&lt;p&gt;A．发送带有附件的邮件
发送带有附件的邮件的过程有些类似转发邮件，我们需要建立一个完整邮件的各个邮件体部分，在第一个部分（即我们的邮件内容文字）后，增加一个具有DataHandler的附件而不是在转发邮件时那样复制第一个部分的DataHandler。&lt;/p&gt;

&lt;p&gt;如果我们将文件作为附件发送，那么要建立FileDataSource类型的对象作为附件数据源；如果从URL读取数据作为附件发送，那么将要建立URLDataSource类型的对象作为附件数据源。&lt;/p&gt;

&lt;p&gt;然后将这个数据源（FileDataSource或是URLDataSource）对象作为DataHandler类构造方法的参数传入，从而建立一个DataHandler对象作为数据源的DataHandler。&lt;/p&gt;

&lt;p&gt;接着将这个DataHandler设置为邮件体部分的DataHandler。这样就完成了邮件体与附件之间的关联工作，下面的工作就是BodyPart的setFileName()方法设置附件名为原文件名。&lt;/p&gt;

&lt;p&gt;最后将两个邮件体放入到Multipart中，设置邮件内容为这个容器Multipart，发送邮件。
&lt;blockquote&gt;// Define message
Message message = new MimeMessage(session);
message.setFrom(new InternetAddress(from));
message.addRecipient(Message.RecipientType.TO,   new InternetAddress(to));
message.setSubject(&amp;ldquo;Hello JavaMail Attachment&amp;rdquo;);
// Create the message part
BodyPart messageBodyPart = new MimeBodyPart();
// Fill the message
messageBodyPart.setText(&amp;ldquo;Pardon Ideas&amp;rdquo;);
Multipart multipart = new MimeMultipart();
multipart.addBodyPart(messageBodyPart);
// Part two is attachment
messageBodyPart = new MimeBodyPart();
DataSource source = new FileDataSource(filename);
messageBodyPart.setDataHandler(new DataHandler(source));
messageBodyPart.setFileName(filename);
multipart.addBodyPart(messageBodyPart);
// Put parts in message
message.setContent(multipart);
// Send the message
Transport.send(message);&lt;/blockquote&gt;
如果我们使用servlet实现发送带有附件的邮件，则必须上传附件给servlet，这时需要注意提交页面form中对编码类型的设置应为multipart/form-data。&lt;/p&gt;

&lt;p&gt;B．读取邮件中的附件
读取邮件中的附件的过程要比发送它的过程复杂一点。因为带有附件的邮件是多部分组成的，我们必须处理每一个部分获得邮件的内容和附件。
但 是如何辨别邮件信息内容和附件呢？Sun在Part类（BodyPart类实现的接口类）中提供了getDisposition()方法让开发者获得邮件 体部分的部署类型，当该部分是附件时，其返回之将是Part.ATTACHMENT。但附件也可以没有部署类型的方式存在或者部署类型为 Part.INLINE，无论部署类型为Part.ATTACHMENT还是Part.INLINE，我们都能把该邮件体部分导出保存。
&lt;blockquote&gt;Multipart mp = (Multipart)message.getContent();
for (int i=0, n=multipart.getCount(); i&amp;hellip;&lt;/blockquote&gt;
下列代码中使用了saveFile方法是自定义的方法，它根据附件的文件名建立一个文件，如果本地磁盘上存在名为附件的文件，那么将在文件名后增加数字表示区别。然后从邮件体中读取数据写入到本地文件中（代码省略）。
&lt;blockquote&gt;// from saveFile()
File file = new File(filename);
for (int i=0; file.exists(); i++)
{
file = new File(filename+i);
}&lt;/blockquote&gt;
以上是邮件体部分被正确设置的简单例子，如果邮件体部分的部署类型为null，那么我们通过获得邮件体部分的MIME类型来判断其类型作相应的处理，代码结构框架如下：
&lt;blockquote&gt;if (disposition == null) {
// Check if plain
MimeBodyPart mbp = (MimeBodyPart)part;
if (mbp.isMimeType(&amp;ldquo;text/plain&amp;rdquo;)) {
// Handle plain
} else {
// Special non-attachment cases here of
// image/gif, text/html, .
..
}
&amp;hellip;
}&lt;/blockquote&gt;
8．处理HTML邮件
前面的例子中发送的邮件都是以文本为内容的（除了附件），下面将介绍如何接收和发送基于HTML的邮件。
A．发送HTML邮件
假如我们需要发送一个HTML文件作为邮件内容，并使邮件客户端在读取邮件时获取相关的图片或者文字的话，只要设置邮件内容为html代码，并设置内容类型为text/html即可：
&lt;blockquote&gt;String htmlText = &amp;rdquo;&amp;lt;h1&amp;gt;Hello&amp;lt;/h1&amp;gt;&amp;rdquo; ;
message.setContent(htmlText, &amp;rdquo;text/html&amp;rdquo;));&lt;/blockquote&gt;
请注意：这里的图片并不是在邮件中内嵌的，而是在URL中定义的。邮件接收者只有在线时才能看到。
在接收邮件时，如果我们使用JavaMail API接收邮件的话是无法实现以HTML方式显示邮件内容的。因为JavaMail API邮件内容视为二进制流。所以要显示HTML内容的邮件，我们必须使用JEditorPane或者第三方HTML展现组件。&lt;/p&gt;

&lt;p&gt;以下代码显示了如何使用JEditorPane显示邮件内容：
&lt;blockquote&gt;if (message.getContentType().equals(&amp;ldquo;text/html&amp;rdquo;)) {
String content = (String)message.getContent();
JFrame frame = new JFrame();
JEditorPane text = new JEditorPane(&amp;ldquo;text/html&amp;rdquo;, content);
text.setEditable(false);
JScrollPane pane = new JScrollPane(text);
frame.getContentPane().add(pane);
frame.setSize(300, 300);
frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
frame.show();
}&lt;/blockquote&gt;
B．在邮件中包含图片
如 果我们在邮件中使用HTML作为内容，那么最好将HTML中使用的图片作为邮件的一部分，这样无论是否在线都会正确的显示HTML中的图片。处理方法就是 将HTML中用到的图片作为邮件附件并使用特殊的cid URL作为图片的引用，这个cid就是对图片附件的Content-ID头的引用。
处理内嵌图片就像向邮件中添加附件一样，不同之处在于我们必须通过设置图片附件所在的邮件体部分的header中Content-ID为一个随机字符串，并在HTML中img的src标记中设置为该字符串。这样就完成了图片附件与HTML的关联。
&lt;blockquote&gt;
String file = &amp;hellip;;
// Create the messageMessage message = new MimeMessage(session);// Fill its headers
message.setSubject(&amp;ldquo;Embedded Image&amp;rdquo;);
message.setFrom(new InternetAddress(from));
message.addRecipient(Message.RecipientType.TO,   new InternetAddress(to));
// Create your new message part
BodyPart messageBodyPart = new MimeBodyPart();String htmlText = &amp;rdquo;&amp;rdquo;&amp;lt;h1&amp;gt;Hello&amp;lt;/h1&amp;gt;&amp;rdquo; ;
messageBodyPart.setContent(htmlText, &amp;rdquo;text/html&amp;rdquo;);
// Create a related multi-part to combine the parts
MimeMultipart multipart = new MimeMultipart(&amp;ldquo;related&amp;rdquo;);
multipart.addBodyPart(messageBodyPart);
// Create part for the image
messageBodyPart = new MimeBodyPart();
// Fetch the image and associate to part
DataSource fds = new FileDataSource(file);
messageBodyPart.setDataHandler(new DataHandler(fds));
messageBodyPart.setHeader(&amp;ldquo;Content-ID&amp;rdquo;,&amp;ldquo;&amp;rdquo;);
// Add part to multi-part
multipart.addBodyPart(messageBodyPart);
// Associate multi-part with message
message.setContent(multipart);&lt;/blockquote&gt;
9．在邮件中搜索短语
JavaMail API提供了过滤器机制，它被用来建立搜索短语。这个短语由javax.mail.search包中的SearchTerm抽象类来定义，在定义后我们便可以使用Folder的Search()方法在Folder中查找邮件：
SearchTerm st = &amp;hellip;;Message[] msgs = folder.search(st);
下面有22个不同的类（继承了SearchTerm类）供我们使用：
AND terms (class AndTerm)
OR terms (class OrTerm)
NOT terms (class NotTerm)
SENT DATE terms (class SentDateTerm)
CONTENT terms (class BodyTerm)
HEADER terms (FromTerm / FromStringTerm, RecipientTerm / RecipientStringTerm, SubjectTerm, etc.)
使用这些类定义的断语集合，我们可以构造一个逻辑表达式，并在Folder中进行搜索。下面是一个实例：在Folder中搜索邮件主题含有“ADV”字符串或者发信人地址为friend@public.com的邮件。
&lt;blockquote&gt;SearchTerm st = new OrTerm(new SubjectTerm(&amp;ldquo;ADV:&amp;ldquo;), new FromStringTerm(&amp;ldquo;friend@public.com&amp;rdquo;));
Message[] msgs = folder.search(st);
&lt;/blockquote&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>javax.mail.internet API 学习</title>
      <link>http://www.daniex.tk/blog/2012/javax-mail-internet-api/</link>
      <pubDate>Fri, 20 Jan 2012 14:34:58 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2012/javax-mail-internet-api/</guid>
      <description>&lt;p&gt;前些天编程，用了个这样的数据传输方式，在http POST消息中传MIME数据包。于是找到javax.mail.internet的包用。在Java EE 1.5的库里包含这个包。现在有的MIME包不仅仅这一个，还有很多，更有千秋。比如这个包的Countent-Type 的 boundary字段是自动生成的，还不太方便取出来。有些包是能够自己设置boundary字段。&lt;/p&gt;

&lt;p&gt;下面转载了这个包的基本使用方法，供学习参考。&lt;span style=&#34;color: #3366ff;&#34;&gt;&lt;a title=&#34;MIME详细介绍&#34; href=&#34;http://daniex.info/mime-details.html&#34; target=&#34;_blank&#34;&gt;&lt;span style=&#34;color: #3366ff;&#34;&gt;MIME学习请参考这里&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;++++++++++++++++++++++++++++++++++++++++++++&lt;/p&gt;

&lt;p&gt;打开JavaMail.jar文件，我们将发现在javax.mail的包下面存在着一些核心类：Session、Message、Address、Authenticator、Transport、Store、Folder。而且在 javax.mail.internet包中还有一些常用的子类。&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;A．Session&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Session类定义了基本的邮件会话。就像Http会话那样，我们进行收发邮件的工作都是基于这个会话的。Session对象利用了java.util.Properties对象获得了邮件服务器、用户名、密码信息和整个应用程序都要使用到的共享信息。&lt;/p&gt;

&lt;p&gt;Session类的构造方法是私有的，所以我们可以使用Session类提供的getDefaultInstance()这个静态工厂方法获得一个默认的Session对象：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Properties props = new Properties();// fill props with any information
2  Session session = Session.getDefaultInstance(props, null);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
或者使用getInstance()这个静态工厂方法获得自定义的Session:
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Properties props = new Properties();// fill props with any information
2  Session session = Session.getInstance(props, null);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
从上面的两个例子中不难发现，getDefaultInstance()和getInstance()方法的第二个参数都是null，这是因为在上面的例子中并没有使用到邮件授权，下文中将对授权进行详细介绍。
从很多的实例看，在对mail server进行访问的过程中使用共享的Session是足够的，即使是工作在多个用户邮箱的模式下也不例外。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;B．&lt;/strong&gt;&lt;strong&gt;Message&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;当我们建立了Session对象后，便可以构造被 发送的信息体了。在这里SUN提供了Message类型来帮助开发者完成这项工作。由于Message是一个抽象类，大多数情况下，我们使用 javax.mail.internet.MimeMessage这个子类，该类是使用MIME类型、MIME信息头的邮箱信息。信息头只能使用US- ASCII字符，而非ASCII字符将通过编码转换为ASCII的方式使用。&lt;/p&gt;

&lt;p&gt;为了建立一个MimeMessage对象，我们必须将Session对象作为MimeMessage构造方法的参数传入：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 MimeMessage message = new MimeMessage(session);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
注意：对于MimeMessage类来讲存在着多种构造方法，比如使用输入流作为参数的构造方法。&lt;/p&gt;

&lt;p&gt;在建立了MimeMessage对象后，我们需要设置它的各个part，对于MimeMessage类来说，这些part就是MimePart接口。最基本的设置信息内容的方法就是通过表示信息内容和米么类型的参数调用setContent()方法：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.setContent(&amp;ldquo;Hello&amp;rdquo;, &amp;ldquo;text/plain&amp;rdquo;);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
然而，如果我们所使用的MimeMessage中信息内容是文本的话，我们便可以直接使用setText()方法来方便的设置文本内容：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.setText(&amp;ldquo;Hello&amp;rdquo;);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
前面所讲的两种方法，对于文本信息，后者更为合适。而对于其它的一些信息类型，比如HTML信息，则要使用前者。
别忘记了，使用setSubject()方法对邮件设置邮件主题：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.setSubject(&amp;ldquo;First&amp;rdquo;);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
&lt;strong&gt;C．Address&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;到这里，我们已经建立了Session和Message，下面将介绍如何使用邮件地址类：Address。像Message一样，Address类也是一个抽象类，所以我们将使用javax.mail.internet.InternetAddress这个子类。&lt;/p&gt;

&lt;p&gt;通过传入代表邮件地址的字符串，我们可以建立一个邮件地址类：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Address address = new InternetAddress(&amp;ldquo;president@whitehouse.gov&amp;rdquo;);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
如果要在邮件地址后面增加名字的话，可以通过传递两个参数：代表邮件地址和名字的字符串来建立一个具有邮件地址和名字的邮件地址类：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Address address = new InternetAddress(&amp;ldquo;president@whitehouse.gov&amp;rdquo;, &amp;ldquo;George Bush&amp;rdquo;);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
本文在这里所讲的邮件地址类是为了设置邮件信息的发信人和收信人而准备的，在建立了邮件地址类后，我们通过message的setFrom()和setReplyTo()两种方法设置邮件的发信人：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.setFrom(address);message.setReplyTo(address);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
若在邮件中存在多个发信人地址，我们可用addForm()方法增加发信人：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Address address[] = &amp;hellip;;
2 message.addFrom(address);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
为了设置收信人，我们使用addRecipient()方法增加收信人，此方法需要使用Message.RecipientType的常量来区分收信人的类型：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.addRecipient(type, address)&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
下面是Message.RecipientType的三个常量：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Message.RecipientType.TO
2 Message.RecipientType.CC
3 Message.RecipientType.BCC&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
因此，如果我们要发送邮件给总统，并发用一个副本给第一夫人的话，下面的方法将被用到：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Address toAddress = new InternetAddress(&amp;ldquo;vice.president@whitehouse.gov&amp;rdquo;);
2 Address ccAddress = new InternetAddress(&amp;ldquo;first.lady@whitehouse.gov&amp;rdquo;);
3 message.addRecipient(Message.RecipientType.TO, toAddress);
4 message.addRecipient(Message.RecipientType.CC, ccAddress);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
JavaMail API并没有提供检查邮件地址有效性的机制。当然我们可以自己完成这个功能：验证邮件地址的字符是否按照RFC822规定的格式书写或者通过DNS服务器上的MX记录验证等。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;D．Authenticator&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;像java.net类那样，JavaMail API通过使用授权者类 （Authenticator）以用户名、密码的方式访问那些受到保护的资源，在这里“资源”就是指邮件服务器。在javax.mail包中可以找到这个 JavaMail的授权者类（Authenticator）。&lt;/p&gt;

&lt;p&gt;在使用Authenticator这个抽象类时，我们必须采用继承该抽象类的方式，并且该继 承类必须具有返回PasswordAuthentication对象（用于存储认证时要用到的用户名、密 码）getPasswordAuthentication()方法。并且要在Session中进行注册，使Session能够了解在认证时该使用哪个类。&lt;/p&gt;

&lt;p&gt;下面代码片断中的MyAuthenticator就是一个Authenticator的子类：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Properties props = new Properties();// fill props with any information
2  Authenticator auth = new MyAuthenticator();
3 Session session = Session.getDefaultInstance(props, auth);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
&lt;strong&gt;E．Transport&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在发送信息时，Transport类将被用到。这个类实现了发送信息的协议（通称为SMTP），此类是一个抽象类，我们可以使用这个类的静态方法send()来发送消息：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Transport.send(message);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
当然，方法是多样的。我们也可由Session获得相应协议对应的Transport实例。并通过传递用户名、密码、邮件服务器主机名等参数建立与邮件服务器的连接，并使用sendMessage()方法将信息发送，最后关闭连接：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 message.saveChanges(); // implicit with send()
2  Transport transport = session.getTransport(&amp;ldquo;smtp&amp;rdquo;);
3 transport.connect(host, username, password);
4 transport.sendMessage(message, message.getAllRecipients());
5 transport.close();&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
评论：上面的方法是一个很好的方法，尤其是在我们在同一个邮件服务器上发送多个邮件时。因为 这时我们将在连接邮件服务器后连续发送邮件，然后再关闭掉连接。send()这个基本的方法是在每次调用时进行与邮件服务器的连接的，对于在同一个邮件服 务器上发送多个邮件来讲可谓低效的方式。&lt;/p&gt;

&lt;p&gt;注意：如果需要在发送邮件过程中监控mail命令的话，可以在发送前设置debug标志：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 session.setDebug(true)；&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
&lt;strong&gt;F．Store和Folder&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;接 收邮件和发送邮件很类似都要用到Session。但是在获得Session后，我们需要从Session中获取特定类型的Store，然后连接到 Store，这里的Store代表了存储邮件的邮件服务器。在连接Store的过程中，极有可能需要用到用户名、密码或者Authenticator。
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Store store = session.getStore(&amp;ldquo;pop3&amp;rdquo;);
2 store.connect(host, username, password);&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
在连接到Store后，一个Folder对象即目录对象将通过Store的getFolder()方法被返回，我们可从这个Folder中读取邮件信息：
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 Folder folder = store.getFolder(&amp;ldquo;INBOX&amp;rdquo;);
2 folder.open(Folder.READ_ONLY);
3 Message message[] = folder.getMessages();&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
上面的例子首先从Store中获得INBOX这个Folder（对于POP3协议只有一个名为INBOX的Folder有效），然后以只读（Folder.READ_ONLY）的方式打开Folder，最后调用Folder的 getMessages()方法得到目录中所有Message的数组。&lt;/p&gt;

&lt;p&gt;注意：对于POP3协议只 有一个名为INBOX的Folder有效，而对于IMAP协议，我们可以访问多个Folder（想想前面讲的IMAP协议）。而且SUN在设计 Folder的getMessages()方法时采取了很智能的方式：首先接收新邮件列表，然后再需要的时候（比如读取邮件内容）才从邮件服务器读取邮件 内容。&lt;/p&gt;

&lt;p&gt;在读取邮件时，我们可以用Message类的getContent()方法接收邮件或是writeTo()方法将邮件保存，getContent()方法只接收邮件内容（不包含邮件头），而writeTo()方法将包括邮件头。
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 System.out.println(((MimeMessage)message).getContent());&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
在读取邮件内容后，别忘记了关闭Folder和Store。
&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;1 folder.close(aBoolean);
2 store.close();&lt;/div&gt;&lt;/blockquote&gt;
&lt;/div&gt;
传递给Folder.close()方法的boolean类型参数表示是否在删除操作邮件后更新Folder。&lt;/p&gt;

&lt;p&gt;转自：&lt;a href=&#34;http://tech.ccidnet.com/art/3741/20060531/567247_1.html&#34;&gt;http://tech.ccidnet.com/art/3741/20060531/567247_1.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MIME详细介绍</title>
      <link>http://www.daniex.tk/blog/2012/mime-details/</link>
      <pubDate>Thu, 19 Jan 2012 01:11:28 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2012/mime-details/</guid>
      <description>&lt;div id=&#34;cnblogs_post_body&#34;&gt;
（注：本文转自CSDN，因本人学习，只是做一笔记，以防遗忘。）

&lt;strong&gt;Q&lt;/strong&gt; 什么是MIME？什么是MIME邮件？

&lt;strong&gt;A&lt;/strong&gt; MIME, 全称为“Multipurpose Internet Mail Extensions”, 比较确切的中文名称为“多用途互联网邮件扩展”。它是当前广泛应用的一种电子邮件技术规范，基本内容定义于RFC 2045-2049。

自然，MIME邮件就是符合MIME规范的电子邮件，或者说根据MIME规范编码而成的电子邮件。

在MIME出台之前，使用RFC 822只能发送基本的ASCII码文本信息，邮件内容如果要包括二进制文件、声音和动画等，实现起来非常困难。MIME提供了一种可以在邮件中附加多种不 同编码文件的方法，弥补了原来的信息格式的不足。实际上不仅仅是邮件编码，现在MIME经成为HTTP协议标准的一个部分。

下面举几个MIME邮件的例子，让我们先对MIME编码的格式有个直观的印象。例1是最简单的，只带纯文本正 文，基本上就是RFC 822格式；例2复杂一些，包含纯文本和超文本正文；例3是最复杂的，包含纯文本正文、超文本正文、内嵌资源和文件附件。其中，行号和行号后的空格是为了 分析方便而另外加的，“... ... ... ...”表示此处省略了大段编码。

例1
&lt;blockquote&gt;1 Date: Thu, 18 Apr 2002 09:32:45 +0800
2 From: &amp;lt;bhw98@sina.com&amp;gt;
3 To: &amp;lt;bhwang@jlonline.com&amp;gt;
4 Subject: Test
5 Mime-Version: 1.0
6 Content-Type: text/plain; charset=&#34;iso-8859-1&#34;
7
8 This is a simple mail.
9&lt;/blockquote&gt;
例2
&lt;blockquote&gt;1 From: &#34;bhw98&#34; &amp;lt;bhw98@sina.com&amp;gt;
2 Reply-To: bhw98@sina.com
3 To: &amp;lt;bluesky7810@163.com&amp;gt;
4 Subject: Re: help
5 X-Mailer: Foxmail 4.2 [cn]
6 Mime-Version: 1.0
7 Content-Type: multipart/alternative;
8 boundary=&#34;=====002_Dragon307572345230_=====&#34;
9
10
11 This is a multi-part message in MIME format.
12
13 --=====002_Dragon307572345230_=====
14 Content-Type: text/plain; charset=&#34;GB2312&#34;
15 Content-Transfer-Encoding: quoted-printable
16
17 bluesky7810=A3=AC=C4=FA=BA=C3=A3=A1
18
19 =A1=A1=A1=A1=D4=DA=CF=C2=C6=AA=D7=EE=BA=F3=BF=C9=D2=D4=CF=C2=D4=D8=B0=A1=A3=AC=C4=E3
... ... ... ...
30 =A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A1=A12003-04-07
31
32 --=====002_Dragon307572345230_=====
33 Content-Type: text/html; charset=&#34;GB2312&#34;
34 Content-Transfer-Encoding: quoted-printable
35
36 &amp;lt;!DOCTYPE HTML PUBLIC &#34;-//W3C//DTD HTML 4.0 Transitional//EN&#34;&amp;gt;
37 &amp;lt;HTML&amp;gt;&amp;lt;HEAD&amp;gt;
38 &amp;lt;META content=3D&#34;text/html; charset=3Dgb2312&#34;=
39 http-equiv=3DContent-Type&amp;gt;
40 &amp;lt;META content=3D&#34;MSHTML 5.00.2920.0&#34; name=3DGENERATOR&amp;gt;
... ... ... ...
79 &amp;lt;/HTML&amp;gt;
80
81 --=====002_Dragon307572345230_=====--
82&lt;/blockquote&gt;
例3
&lt;blockquote&gt;1 Return-Path: &amp;lt;bluesky7810@163.com&amp;gt;
2 Delivered-To: bhw98@sina.com
3 Received: (qmail 75513 invoked by alias); 20 May 2002 02:19:53 -0000
4 Received: from unknown (HELO bluesky) (61.155.118.135)
5 by 202.106.187.143 with SMTP; 20 May 2002 02:19:53 -0000
6 Message-ID: &amp;lt;007f01c3111c$742fec00$0100007f@bluesky&amp;gt;
7 From: &#34;=?gb2312?B?wLbAtrXEzOwNCg==?=&#34; &amp;lt;bluesky7810@163.com&amp;gt;
8 To: &#34;bhw98&#34; &amp;lt;bhw98@sina.com&amp;gt;
9 Cc: &amp;lt;bhwang@jlonline.com&amp;gt;
10 Subject: =?gb2312?B?ztK1xLbgtK6/2rPM0PI=?=
11 Date: Sat, 20 May 2002 10:03:36 +0800
12 MIME-Version: 1.0
13 Content-Type: multipart/mixed;
14 boundary=&#34;----=_NextPart_000_007A_01C3115F.80DFC5E0&#34;
15 X-Priority: 3
16 X-MSMail-Priority: Normal
17 X-Mailer: Microsoft Outlook Express 5.00.2919.6700
18 X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
19
20 This is a multi-part message in MIME format.
21
22 ------=_NextPart_000_007A_01C3115F.80DFC5E0
23 Content-Type: multipart/related; type=&#34;multipart/alternative&#34;;
24 boundary=&#34;----=_NextPart_001_007B_01C3115F.80DFC5E0&#34;
25
26
27 ------=_NextPart_001_007B_01C3115F.80DFC5E0
28 Content-Type: multipart/alternative;
29 boundary=&#34;----=_NextPart_002_007C_01C3115F.80DFC5E0&#34;
30
31 ------=_NextPart_002_007C_01C3115F.80DFC5E0
32 Content-Type: text/plain; charset=&#34;gb2312&#34;
33 Content-Transfer-Encoding: quoted-printable
34
35 bhw98, =C4=E3=BA=C3!
36 =D5=E2=CA=C7=CE=D2=D0=B4=B5=C4=B6=E0=B4=AE=BF=DA=CD=A8=D0=C5=B5=C4=B3=CC=D0=
37 =F2, =C7=EB=D6=B8=BD=CC!
38
39
40 ------=_NextPart_002_007C_01C3115F.80DFC5E0
41 Content-Type: text/html; charset=&#34;gb2312&#34;
42 Content-Transfer-Encoding: quoted-printable
43
44 &amp;lt;!DOCTYPE HTML PUBLIC &#34;-//W3C//DTD HTML 4.0 Transitional//EN&#34;&amp;gt;
45 &amp;lt;HTML&amp;gt;&amp;lt;HEAD&amp;gt;&amp;lt;TITLE&amp;gt;=C7=E7=C0=CA&amp;lt;/TITLE&amp;gt;
46 &amp;lt;META content=3D&#34;text/html; charset=3Dgb2312&#34; http-equiv=3DContent-Type&amp;gt;
47 &amp;lt;STYLE&amp;gt;BODY {
48 COLOR: #0033cc; FONT-FAMILY: =CB=CE=CC=E5, Arial, Helvetica; FONT-SIZE: =
49 9pt; MARGIN-LEFT: 10px; MARGIN-TOP: 25px
50 }
51 &amp;lt;/STYLE&amp;gt;
52 &amp;lt;META content=3D&#34;MSHTML 5.00.2920.0&#34; name=3DGENERATOR&amp;gt;&amp;lt;/HEAD&amp;gt;
53 &amp;lt;BODY background=3Dcid:007901c3111c$72b978a0$0100007f@bluesky =
54 bgColor=3D#ffffff&amp;gt;
55 &amp;lt;DIV&amp;gt;
56 &amp;lt;DIV&amp;gt;bhw98, =C4=E3=BA=C3!&amp;lt;/DIV&amp;gt;
57 &amp;lt;P&amp;gt;=D5=E2=CA=C7=CE=D2=D0=B4=B5=C4=B6=E0=B4=AE=BF=DA=CD=A8=D0=C5=B5=C4=B3=CC=
58 =D0=F2, =C7=EB=D6=B8=BD=CC!&amp;lt;/P&amp;gt;&amp;lt;/DIV&amp;gt;
59 &amp;lt;P&amp;gt; &amp;lt;/P&amp;gt;&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;
60
61 ------=_NextPart_002_007C_01C3115F.80DFC5E0--
62
63 ------=_NextPart_001_007B_01C3115F.80DFC5E0
64 Content-Type: image/jpeg; name=&#34;=?gb2312?B?x+fAyrGzvrAuSlBH?=&#34;
65 Content-Transfer-Encoding: base64 66 Content-ID: &amp;lt;007901c3111c$72b978a0$0100007f@bluesky&amp;gt;
67
68 /9j/4AAQSkZJRgABAgEASABIAAD/7QVoUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEA
69 AQBIAAAAAQABOEJJTQPzAAAAAAAIAAAAAAAAAAA4QklNBAoAAAAAAAEAADhCSU0nEAAAAAAACgAB
70 AAAAAAAAAAI4QklNA/UAAAAAAEgAL2ZmAAEAbGZmAAYAAAAAAAEAL2ZmAAEAoZmaAAYAAAAAAAEA
... ... ... ...
169 RxVw98Vawq12xQ44q0cKtHFDWKGsKt4EtiuKt4q//9k=
170
171 ------=_NextPart_001_007B_01C3115F.80DFC5E0--
172
173 ------=_NextPart_000_007A_01C3115F.80DFC5E0
174 Content-Type: application/msword; name=&#34;readme.doc&#34;
175 Content-Transfer-Encoding: base64
176 Content-Disposition: attachment; filename=&#34;readme.doc&#34;
177
178 0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAJgAAAAAAAAAA
179 EAAAKAAAAAEAAAD+////AAAAACUAAAD/////////////////////////////////////////////
180 ////////////////////////////////////////////////////////////////////////////
... ... ... ...
1688 AAAAAAAAAAAAAAAAAAA=
1689
1690 ------=_NextPart_000_007A_01C3115F.80DFC5E0
1691 Content-Type: application/x-zip-compressed;
1692 name=&#34;=?gb2312?B?tuC0rr/azajQxbXE1LTC6y56aXA=?=&#34;
1693 Content-Transfer-Encoding: base64
1694 Content-Disposition: attachment;
1695 filename=&#34;=?gb2312?B?tuC0rr/azajQxbXE1LTC6y56aXA=?=&#34;
1696
1697 UEsDBBQAAAAIAFKAoi7qOMOvLw0AAABWAAAUAAAAtuC0rr/azajQxbXE1LTC6y5kb2PtXHtwVNUZ
1698 /+4+kk3IQoAkBkRYQkSgbrKb7IYNEMwmm6ckG0jCI0boZneTbJJ9sNlAEsdOtFqd8Z846tQ6PhB1
1699 hrZTJoK0Vhgf1aGt4rMy6D8tdugfTjuOpcBIR9j+vvsIy4YkRNTRen87v/ud53cee+6557vn7L73
... ... ... ...
3125 zajQxbXE1LTC6y5kb2NQSwUGAAAAAAEAAQBCAAAAYQ0AAA==
3126
3127 ------=_NextPart_000_007A_01C3115F.80DFC5E0--
3128&lt;/blockquote&gt;
&lt;strong&gt;Q&lt;/strong&gt; 在开始研究MIME邮件的时候，如何得到这样的源码？

&lt;strong&gt;A&lt;/strong&gt; 一些功能比较完善的邮件客户端软件，如微软的Outlook Express，国产的Foxmail等，都提供了查看和保存邮件源码(原始信息)的功能。在Foxmail中，选择邮件列表右键菜单的“原始信息”进行 查看，主菜单的“文件-导出”进行保存。在Outlook Express中，对应的操作分别是“属性”和“另存为”。所保存的.eml文件，可以调用这些程序打开。

&lt;strong&gt;Q&lt;/strong&gt; 请介绍一下MIME邮件的组成？

&lt;strong&gt;A&lt;/strong&gt; 总体来说，MIME消息由消息头和消息体两大部分组成。现在我们关注的是MIME邮件，因此在以下的讨论中姑且称“消息”为“邮件”。在上面的例子中，例 1的1-6行，例2的1—8行，例3的1-18行，是邮件头；例1的8—9行，例2的10—82行，例3的20—3128行，是邮件体。邮件头与邮件体之 间以空行进行分隔，如例1的第7行，例2的第9行，例3的第19行。邮件头中不允许出现空行。有一些邮件不能被邮件客户端软件识别，显示的是原始码，就是 因为首行是空行。

邮件头包含了发件人、收件人、主题、时间、MIME版本、邮件内容的类型等重要信息。每条信息称为一个域，由 域名后加“: ”和信息内容构成，可以是一行，较长的也可以占用多行。域的首行必须“顶头”写，即左边不能有空白字符（空格和制表符）；续行则必须以空白字符打头，且第 一个空白字符不是信息本身固有的，解码时要过滤掉。如例2的7-8行，例3的4-5行，13-14行，分别属于一个域。

邮件体包含邮件的内容，它的类型由邮件头的“Content-Type”域指出。常见的简单类型有text/plain(纯文本)和text/html(超文本)。

例2和例3中出现的multipart类型，是MIME邮件的精髓。邮件体被分为多个段，每个段又包含段头和 段体两部分，这两部分之间也以空行分隔。常见的multipart类型有三种：multipart/mixed, multipart/related和multipart/alternative。从它们的名称，不难推知这些类型各自的含义和用处。它们之间的层次关 系可归纳为下图所示：
&lt;pre&gt;+------------------------- multipart/mixed ----------------------------+
|                                                                      |
|  +----------------- multipart/related ------------------+            |
|  |                                                      |            |
|  |  +----- multipart/alternative ------+  +----------+  |  +------+  |
|  |  |                                  |  | 内嵌资源 |  |  | 附件 |  |
|  |  |  +------------+  +------------+  |  +----------+  |  +------+  |
|  |  |  | 纯文本正文 |  | 超文本正文 |  |                |            |
|  |  |  +------------+  +------------+  |  +----------+  |  +------+  |
|  |  |                                  |  | 内嵌资源 |  |  | 附件 |  |
|  |  +----------------------------------+  +----------+  |  +------+  |
|  |                                                      |            |
|  +------------------------------------------------------+            |
|                                                                      |
+----------------------------------------------------------------------+&lt;/pre&gt;
可以看出，如果在邮件中要添加附件，必须定义multipart/mixed段；如果存在内嵌资源，至少要定义 multipart/related段；如果纯文本与超文本共存，至少要定义multipart/alternative段。什么是“至少”？举个例子 说，如果只有纯文本与超文本正文，那么在邮件头中将类型扩大化，定义为multipart/related，甚至multipart/mixed，都是允 许的。

multipart诸类型的共同特征是，在段头指定“boundary”参数字符串，段体内的每个子段以此串 定界。所有的子段都以“--”+boundary行开始，父段则以“--”+boundary+“--”行结束。段与段之间也以空行分隔。在邮件体是 multipart类型的情况下，邮件体的开始部分(第一个“--”+boundary行之前)可以有一些附加的文本行，相当于注释，解码时应忽略。段间 也可以有一些附加的文本行，不会显示出来，如果有兴趣，不妨验证一下。

结合boundary定界和multipart层次关系图，我们分析一下例2和例3的邮件体层次与段嵌套关系。

在例2中，10-12行是附加文本行，13-82行是multipart/alternative型的段，包含两个子段：13-30行是纯文本正文，32-79行是超文本正文。

在例3中，20-21行是附加文本行，22-3127行是multipart/mixed型的段，包含3个子 段：22-171行是multipart/related段，173-1688行与1690-3125行是两个附件。multipart/related 段又包含两个子段：27-61行是multipart/alternative段，63-169行是一个内嵌资源(图片)。multipart /alternative段又包含两个子段：31-48行是纯文本正文，40-59行是超文本正文。

例1只有纯文本正文，实际上属于multipart层次关系图中的一个特殊情况。如果非要避简就繁，写成下面的形式，也是完全符合MIME精神的。
&lt;blockquote&gt;Date: Thu, 18 Apr 2002 09:32:45 +0800
From: &amp;lt;bhw98@sina.com&amp;gt;
To: &amp;lt;bhwang@jlonline.com&amp;gt;
Subject: Test
Mime-Version: 1.0
Content-Type: multipart/alternative; boundary=&#34;{[(^_^)]}&#34; --{[(^_^)]}
Content-Type: text/plain; charset=&#34;iso-8859-1&#34;
Content-Transfer-Encoding: 7bit This is a simple mail. --{[(^_^)]}--&lt;/blockquote&gt;
&lt;strong&gt;Q&lt;/strong&gt; 在邮件头和段头中，有哪一些常见的域？

&lt;strong&gt;A&lt;/strong&gt; 在邮件头中，有很多从RFC 822沿用的域名，MIME也增加了一些。常见的标准域名和含义如下
&lt;table align=&#34;center&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;域名&lt;/td&gt;
&lt;td&gt;含义&lt;/td&gt;
&lt;td&gt;添加者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Received&lt;/td&gt;
&lt;td&gt;传输路径&lt;/td&gt;
&lt;td&gt;各级邮件服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Return-Path&lt;/td&gt;
&lt;td&gt;回复地址&lt;/td&gt;
&lt;td&gt;目标邮件服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Delivered-To&lt;/td&gt;
&lt;td&gt;发送地址&lt;/td&gt;
&lt;td&gt;目标邮件服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reply-To&lt;/td&gt;
&lt;td&gt;回复地址&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;From&lt;/td&gt;
&lt;td&gt;发件人地址&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;To&lt;/td&gt;
&lt;td&gt;收件人地址&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cc&lt;/td&gt;
&lt;td&gt;抄送地址&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Bcc&lt;/td&gt;
&lt;td&gt;暗送地址&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Date&lt;/td&gt;
&lt;td&gt;日期和时间&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Subject&lt;/td&gt;
&lt;td&gt;主题&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Message-ID&lt;/td&gt;
&lt;td&gt;消息ID&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MIME-Version&lt;/td&gt;
&lt;td&gt;MIME版本&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Type&lt;/td&gt;
&lt;td&gt;内容的类型&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Transfer-Encoding&lt;/td&gt;
&lt;td&gt;内容的传输编码方式&lt;/td&gt;
&lt;td&gt;邮件的创建者&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
非标准的、自定义域名都以X-开头，例如X-Mailer, X-MSMail-Priority等，通常在接收和发送邮件的是同一程序时才能理解它们的意义。

在段头中，大致有如下一些域
&lt;table align=&#34;center&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;域名&lt;/td&gt;
&lt;td&gt;含义&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Type&lt;/td&gt;
&lt;td&gt;段体的类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Transfer-Encoding&lt;/td&gt;
&lt;td&gt;段体的传输编码方式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Disposition&lt;/td&gt;
&lt;td&gt;段体的安排方式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-ID&lt;/td&gt;
&lt;td&gt;段体的ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Location&lt;/td&gt;
&lt;td&gt;段体的位置(路径)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content-Base&lt;/td&gt;
&lt;td&gt;段体的基位置&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
有 的域除了值之外，还带有参数。值与参数、参数与参数之间以“;”分隔。参数名与参数值之间以“=”分隔。如例3的28-29行，Content-Type 域的值为“multipart/alternative”，此外有一个参数boundary，值 为&#34;----=_NextPart_002_007C_01C3115F.80DFC5E0&#34;。又如例3的第176行，Content- Disposition域的值为“attachment”，此外有一个参数filename，值为“readme.doc”。

&lt;strong&gt;Q&lt;/strong&gt; Content-Type以及它们的参数有哪些形式？

&lt;strong&gt;A&lt;/strong&gt; Content-Type都是“主类型/子类型”的形式。主类型有text, image, audio, video, application, multipart, message等，分别表示文本、图片、音频、视频、应用、分段、消息等。每个主类型都可能有多个子类型，如text类型就包含plain, html, xml, css等子类型。以X-开头的主类型和子类型，同样表示自定义的类型，未向IANA正式注册，但大多已经约定成俗了。如application/x- zip-compressed是ZIP文件类型。在Windows中，注册表的“HKEY_CLASSES_ROOT\MIME\Database \Content Type”内列举了除multipart之外大部分已知的Content-Type。

关于参数的形式，RFC里有很多补充规定，有的允许带几个参数，较为常见的有
&lt;table align=&#34;center&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;主类型&lt;/td&gt;
&lt;td&gt;参数名&lt;/td&gt;
&lt;td&gt;含义&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;text&lt;/td&gt;
&lt;td&gt;charset&lt;/td&gt;
&lt;td&gt;字符集&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;image&lt;/td&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;application&lt;/td&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;multipart&lt;/td&gt;
&lt;td&gt;boundary&lt;/td&gt;
&lt;td&gt;边界&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
其中字符集也能在Windows注册表的“HKEY_CLASSES_ROOT\MIME\Database\Charset”内见到。

&lt;strong&gt;Q&lt;/strong&gt; Content-Transfer-Encoding有哪些？有什么特点？

&lt;strong&gt;A&lt;/strong&gt; Content-Transfer-Encoding共有Base64, Quoted-printable, 7bit, 8bit, Binary等几种。其中7bit是缺省的编码方式。电子邮件源码最初设计为全部是可打印的ASCII码的形式。非ASCII码的文本或数据要编码成要求 的格式，如上面的三个例子。Base64, Quoted-Printable是在非英语国家使用最广使的编码方式。Binary方式只具有象征意义，而没有任何实用价值。

Base64将输入的字符串或一段数据编码成只含有 {&#39;A&#39;-&#39;Z&#39;, &#39;a&#39;-&#39;z&#39;, &#39;0&#39;-&#39;9&#39;, &#39;+&#39;, &#39;/&#39;}这64个字符的串，&#39;=&#39;用于填充。其编码的方法是，将输入数据流每次取6 bit，用此6 bit的值(0-63)作为索引去查表，输出相应字符。这样，每3个字节将编码为4个字符(3×8 → 4×6)；不满4个字符的以&#39;=&#39;填充。有的场合，以“=?charset?B?xxxxxxxx?=”表示xxxxxxxx是Base64编码，且原文 的字符集是charset。如例3第7行&#34;=?gb2312?B?wLbAtrXEzOwNCg==?=&#34;是由简体中文“蓝蓝的天”编码而成的。在段体内 则直接编码，适当时机换行，MIME建议每行最多76个字符。如例3的1697-3125行，是一个ZIP文件的Base64编码。

Quoted-printable根据输入的字符串或字节 范围进行编码，若是不需编码的字符，直接输出；若需要编码，则先输出&#39;=&#39;，后面跟着以2个字符表示的十六进制字节值。有的场合，以 “=?charset?Q?xxxxxxxx?=”表示xxxxxxxx是Quoted-printable编码，且原文的字符集是charset。在段 体内则直接编码，适当时机换行，换行前额外输出一个&#39;=&#39;。如例3的44-59行，是HTML文本的Quoted-printable编码。其中第45行 “=C7=E7=C0=CA”原文是“晴朗”，因为“晴”的GB2312码是C7E7，“朗”的GB2312码是C0CA。第48、53、57行末尾只有 孤零零的&#39;=&#39;，表示这是由编码造成的软回车，而非原文固有的。

近年来，国内多数邮件服务器已经支持8bit方式，因此只在国内传输的邮件，特别是在邮件头中，可直接使用8bit编码，对汉字不做处理。如果邮件要出国，还是老老实实地按Base64或Quoted-printable编码才行。

&lt;strong&gt;Q&lt;/strong&gt; 什么是内嵌资源？它有哪些形式？

&lt;strong&gt;A&lt;/strong&gt; 内嵌资源也是MIME的一个发光点，它能使邮件内容变得生动活泼、丰富多彩。可在邮件的multipart/related框架内定义一些与正文关联的图 片、动画、声音甚至CSS样式和脚本的段。通常在HTML正文内，使用超级链接与内嵌资源相联系。如在例3中，HTML正文53-54行，解码后为
&lt;blockquote&gt;&amp;lt;BODY background=cid:007901c3111c$72b978a0$0100007f@bluesky bgColor=#ffffff&amp;gt;&lt;/blockquote&gt;
它指出用一个Content-ID为007901c3111c$72b978a0$0100007f@bluesky的图片作为背景(cid:xxxxxxxx也是一种超级链接)。而64-169行恰好就是这样一个内嵌资源。

除了用Content-ID进行联系外，还有另外一种常用形式：用普通超级连接和Content-Location。例如：

在HTML正文中，
&lt;blockquote&gt;... ... ... ... &amp;lt;
IMG SRC=&#34;http://www.dangdang.com/images/all/anti_joyo_dm_book.gif&#34;&amp;gt;
... ... ... ... &amp;lt;
IMG SRC=&#34;http://www.dangdang.com/dd2001/getimage_small.asp?id=486341&#34;&amp;gt;
... ... ... ...&lt;/blockquote&gt;
对应的内嵌资源为
&lt;blockquote&gt;Content-Type: image/gif; name=&#34;anti_joyo_dm_book.gif&#34;
Content-Transfer-Encoding: base64
Content-Location: http://www.dangdang.com/images/all/anti_joyo_dm_book.gif
... ... ... ...
Content-Type: application/octet-stream; name=&#34;getimage_small.asp?id=486341&#34;
Content-Transfer-Encoding: base64
Content-Location: http://www.dangdang.com/dd2001/getimage_small.asp?id=486341
... ... ... ...&lt;/blockquote&gt;
另外，
&lt;blockquote&gt;Content-Location: http://www.dangdang.com/images/all/anti_joyo_dm_book.gif&lt;/blockquote&gt;
与
&lt;blockquote&gt;Content-Location: anti_joyo_dm_book.gif Content-Base: http://www.dangdang.com/images/all/&lt;/blockquote&gt;
是等效的。

&lt;strong&gt;Q&lt;/strong&gt; 邮件病毒如何利用附件和内嵌资源传播？

&lt;strong&gt;A&lt;/strong&gt; 有的邮件附件可能带有病毒，容易理解。附件毕竟是文件，也好预防，不轻易打开就是了。但内嵌资源是在浏览邮件内容时就要访问的，若其中藏有病毒或恶意代码，你在不知不觉中就中招了。如前两年曾经在全球范围内流行的Nimda病毒，功能性源码如下：
&lt;blockquote&gt;MIME-Version: 1.0
Content-Type: multipart/related; type=&#34;multipart/alternative&#34;; boundary=&#34;====_ABC1234567890DEF_====&#34;

--====_ABC1234567890DEF_====
Content-Type: multipart/alternative; boundary=&#34;====_ABC0987654321DEF_====&#34;

--====_ABC0987654321DEF_====
Content-Type: text/html; charset=&#34;iso-8859-1&#34;
Content-Transfer-Encoding: 7bit &amp;lt;HTML&amp;gt;&amp;lt;HEAD&amp;gt;&amp;lt;/HEAD&amp;gt;&amp;lt;BODY bgColor=#ffffff&amp;gt; &amp;lt;iframe src=cid:EA4DMGBP9p height=0 width=0&amp;gt; &amp;lt;/iframe&amp;gt;&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;

--====_ABC0987654321DEF_====--

--====_ABC1234567890DEF_====
Content-Type: audio/x-wav; name=&#34;readme.exe&#34;
Content-Transfer-Encoding: base64 Content-ID: &amp;lt;EA4DMGBP9p&amp;gt; TVqQAAMAAAAEAAAA//8AALgAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAA2AAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4gRE9TIG1v ZGUuDQ0KJAAAAAAAAAA11CFvcbVPPHG1TzxxtU88E6pcPHW1TzyZqkU8dbVPPJmqSzxytU88cbVO
... ... ... ... ... ... ... ...
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=

--====_ABC1234567890DEF_====&lt;/blockquote&gt;
它 将一个可执行文件作为资源嵌入了框架型页面，却声明这段可执行代码是波形声音类型。由于当时微软的IE(版本5.0及以下)存在重大安全漏洞，没有检查 Content-Type与name的扩展名是否匹配，于是就被轻易骗过了，致使点选或打开邮件时自动运行了这个“readme.exe”，机器就感染上 病毒。带毒的机器利用地址簿向别人发送带毒的邮件，一传十，十传百，Nimda蠕虫大行其道。

纵观历史，病毒刚出来时是厉害，但没有任何一种能够持续肆虐下去。Nimda如此，SARS亦当如此。曰：“多难兴邦，众志成城”，又曰：“非典终将倒下，城市精神永存”，相信我们定能很快战胜“非典”!

病毒库升级是跟在新病毒屁股后进行的，不要过分依赖杀毒软件。一个良好的习惯是关闭邮件预览功能，或者设定预览纯文本部分，先查看邮件源码，确信排除病毒嫌疑后再打开。对陌生人发来的带超文本正文的邮件，尤其要当心。永远不要在邮件客户端软件内直接打开附件。

&lt;strong&gt;Q&lt;/strong&gt; 一些垃圾邮件采取隐藏发件人的方式，如何追查它们来自哪里？

&lt;strong&gt;A&lt;/strong&gt; 从上面的邮件头域名表中可以看出，邮件的创建者可以掌握大部分的域的内容，但Received等域由各级服务器自动添加，发件人是鞭长莫及。垃圾邮件一般 采用了群发软件发送，邮件头的From域(发件人地址)可以任意伪造，甚至写成收件人地址(收到了自己并没有发过的垃圾邮件，气愤吧？)。查看 Received域(传输路径)链可以找到真正的出处。每个服务器添加的Received语句都在邮件首，故最下面一个Received就包含了发件人所 用的SMTP或HTTP服务器，及最初的网关外部IP地址。

Receive语句的基本格式是：from A by B。A为发送方，B为接收方。例如：
&lt;blockquote&gt;Received: (qmail 45304 invoked from network); 4 May 2003 17:05:47 -0000 Received: from unknown (HELO bjapp9.163.net) (202.108.255.197) by 202.106.182.244 with SMTP; 4 May 2003 17:05:47 -0000 Received: from localhost (localhost [127.0.0.1]) by bjapp9.163.net (Postfix) with SMTP id E1C761D84C631 for &amp;lt;bhw98@sina.com&amp;gt;; Mon, 5 May 2003 01:07:26 +0800 (CST) Received: from fanyingxxxx@tom.com (unknown [211.99.162.194]) by bjapp9.163.net (Coremail) with SMTP id OgEAAM1ItT7MNaLC.1 for &amp;lt;bhw98@sina.com&amp;gt;; Mon, 05 May 2003 01:07:26 +0800 (CST)&lt;/blockquote&gt;
从 上面的例子中不难看出，该邮件的传输路径是：211.99.162.194 → bjapp9.163.net (Coremail 202.108.255.197?) → bjapp9.163.net (Postfix, 202.108.255.197?) → 202.106.182.244。恰好出现了发件人邮箱fanyingxxxx@tom.com，但多数情况不一定能列出来。

此例的localhost [127.0.0.1]，意味着bjapp9.163.net上安装了邮件服务代理性质的软件。

&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>win7下使用virtualbox制作mac虚拟机后root用户开启分辨率和输入法问题</title>
      <link>http://www.daniex.tk/blog/2011/mac-virtual-machine-root-resolution/</link>
      <pubDate>Thu, 29 Dec 2011 14:55:34 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/mac-virtual-machine-root-resolution/</guid>
      <description>&lt;p&gt;闲来无事就折腾了下，其实很久之前就想玩下苹果操作系统了，由于自己的笔记本太老土不支持虚拟64位，放弃。最近又有了兴致，就继续折腾。&lt;/p&gt;

&lt;p&gt;mac虚拟机制作已经是老生常谈的话题，我也不多废话，给个链接大家去参考参考，一步步照做就行了。用virtualbox虚拟机安装&lt;/p&gt;

&lt;p&gt;Mac OS 10.6.x详细步骤-用vmware安装失败的可以看这里（不断更新） &lt;a href=&#34;http://bbs.weiphone.com/read-htm-tid-1702048.html&#34;&gt;http://bbs.weiphone.com/read-htm-tid-1702048.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;这里说一下虚拟机装完后的两件事。
&lt;h2 style=&#34;background-color: #e3e3e3;&#34;&gt;开启Mac OS X系统Root用户权限&lt;/h2&gt;
&lt;a href=&#34;http://article.yeeyan.org/view/187683/151364&#34;&gt;http://article.yeeyan.org/view/187683/151364&lt;/a&gt;
&lt;h2 style=&#34;background-color: #e3e3e3;&#34;&gt;怎样更改mac的分辨率&lt;/h2&gt;
&lt;a href=&#34;http://jingyan.baidu.com/article/4e5b3e198d5bbb91901e24bd.html&#34;&gt;http://jingyan.baidu.com/article/4e5b3e198d5bbb91901e24bd.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;root 权限照着做很快就搞定了。但是分辨率的问题一直没有弄好。照着几个方法都做了还是未成功。最后无奈放弃，我也不弄ios开发，只是看看玩玩。&lt;/p&gt;

&lt;p&gt;上图为证：&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter&#34; title=&#34;mac&#34; src=&#34;http://farm8.staticflickr.com/7016/6594196203_a1ddc74ef5_z.jpg&#34; alt=&#34;&#34; width=&#34;640&#34; height=&#34;463&#34; /&gt;&lt;/p&gt;

&lt;p&gt;还有个，是输入法的问题。我装的是英文的系统，但是语言包其实他都有了，只要设置下。在system preference 的language&amp;amp;text项目，input source 选项卡中中勾选你要的语言就ok了。当然也可以去下载第三方的输入法。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wordpress自定义个性化首页</title>
      <link>http://www.daniex.tk/blog/2011/wordpress-custom-home-page/</link>
      <pubDate>Sat, 19 Nov 2011 09:33:37 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/wordpress-custom-home-page/</guid>
      <description>&lt;p&gt;自己好不容易折腾了个wordpress博客，发现所有人的首页样式都大同小异，是不是很没创意，很扫兴？下面就来说说如何制作一个wordpress个性化首页，让你随心所欲的改变首页的样式，让你有个不一样的主页。最后效果如我的&lt;a title=&#34;澄清的半亩方糖&#34; href=&#34;http://danie.info&#34; target=&#34;_blank&#34;&gt;&lt;strong&gt;首页&lt;/strong&gt;&lt;/a&gt;，截图如下：
&lt;p style=&#34;text-align: center;&#34;&gt;&lt;img class=&#34;aligncenter size-full wp-image-974&#34; title=&#34;ss&#34; src=&#34;http://daniex.info/wp-content/uploads/2011/11/ss.jpg&#34; alt=&#34;&#34; width=&#34;590&#34; height=&#34;482&#34; /&gt;&lt;/p&gt;
&amp;nbsp;
&lt;div style=&#34;background-color: #e3e3e3;&#34;&gt;
&lt;h2&gt;一、 设置wordpress首页&lt;/h2&gt;
&lt;/div&gt;
wordpress有设置page页作为默认首页的功能，下面的方法就是自定义一个page也模板，然后添加一个用这个模板制作的page页，最后将这个page页设为首页。&lt;/p&gt;

&lt;p&gt;1) ftp或者cpanel到部署wordpress空间或其他。复制wordpress主题目录下的page.php文件，重名名。比如，找到文件（wp目录）/wp-content/themes/zbench/page.php 重命名为 myhomepage.php&lt;/p&gt;

&lt;p&gt;2) 用文本编辑器打开myhomepage.php，例如用记事本打开，在文件首位添加以下代码：
&lt;blockquote&gt;&amp;lt;?php
/*
Template Name: 首页
*/
?&amp;gt;&lt;/blockquote&gt;
“Template Name : ” 后的文字可以是任意的。这样我们就添加了一个新的page页模板。自定义的首页内容其实就是这个myhomepage.php的内容。如何设计修改这个文件，建立自己的个性化首页，会在后面提到。我们先将它设为首页。&lt;/p&gt;

&lt;p&gt;3) 添加一个新的page页：浏览器登录wordpress后台控制面板，dashboard -&amp;gt;pages -&amp;gt; add new。 输入标题，在右方page attributes 面板中会有parent 和 template 的下拉框，在模板下拉框中选择刚刚添加的模板。如图，我添加的模板名字叫“首页”，我就选择它。&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-961&#34; title=&#34;selecttemplate&#34; src=&#34;http://daniex.info/wp-content/uploads/2011/11/selecttemplate.jpg&#34; alt=&#34;&#34; width=&#34;281&#34; height=&#34;253&#34; /&gt;选择好后，给这个page也命名，我是在title那输入的“首页”。然后就可以发表了，其他的内容什么可以都不用写。&lt;/p&gt;

&lt;p&gt;4) 设置首页的最后一步，点击后台的reading设置项：dashboard -&amp;gt; settings -&amp;gt; reading。在第一个设置项目里选择第二项 a static page ，然后再它下方的第一个下拉选项框里选则刚刚给page页设置的名字。比如我的“首页”。&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-962&#34; title=&#34;setreading&#34; src=&#34;http://daniex.info/wp-content/uploads/2011/11/setreading.png&#34; alt=&#34;&#34; width=&#34;552&#34; height=&#34;506&#34; /&gt;点击 save changes 保存配置。&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;这样，我们把首页重新设置好了。这个时候访问首页的时候我们会发现，我们的首页除了头上的标题名称、侧边栏、底部栏之外就什么都没有。&lt;/p&gt;

&lt;p&gt;&amp;nbsp;
&lt;div style=&#34;background-color: #e3e3e3;&#34;&gt;
&lt;h2&gt;二、 设计自己的wordpress首页&lt;/h2&gt;
&lt;/div&gt;
我们已经把wordpress的首页换掉，但是这个首页现在是一片空白，我们要怎么去填充这片空白呢？如果你有html、css、js功底，那就是你一展身手的时候。如果水平一般，那也没关系，能看懂一点点代码，那就有办法去使用一些好的模板，好的插件，设计出一个自己满意的首页还是可以的。我就只是能看懂代码的那种，根本不熟悉网页前端开发。
&lt;h4&gt;&lt;strong&gt;方法一&lt;/strong&gt;&lt;/h4&gt;
怎么给这个首页填充内容，最简单的方法就是，编辑我们之前添加的page页。之前我们并没有在文章内容里添加任何东西。只要你有好内容，好方案，就可以像写一个新的文章一样这里出一个你自己的主页。
&lt;h4&gt;&lt;strong&gt;方法二&lt;/strong&gt;&lt;/h4&gt;
这个方法就需要去修改我们的myhomepage.php文件。前端开发的牛人大有人在，我也不多说。就把我的一些代码贴出来，有心思看到朋友可以参考下。主要用到的几个函数我罗列一下：
&lt;blockquote&gt;&amp;lt;?php if(function_exists(&amp;lsquo;wp_thumbnails_for_category&amp;rsquo;)) { wp_thumbnails_for_category(&amp;lsquo;id=7&amp;amp;num=1&amp;rsquo;); } ?&amp;gt;&lt;/blockquote&gt;
这是我使用的wp-thumbnail插件提供的函数，用于显示分类中的文章和缩略图。在wp-thumbnail插件设置中设置好分类文章的相关数据，如图片大小、标题位置。然后再这里调用。id=7表示文章分类id为7的分类下的文章，num=1表示显示一篇。文章分类ID是几可以参考&lt;a title=&#34;wordpress查看分类category的id&#34; href=&#34;http://daniex.info/view-category-id-wordpress.html&#34; target=&#34;_blank&#34;&gt;&lt;strong&gt;这篇文章&lt;/strong&gt;&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;嵌入的探讨tt1 tt2 的css代码是控制左侧栏目的背景。另外有block1和block2的代码是用来控制左右两部分的布局。
&lt;blockquote&gt;.tt1 {background:#E3E3E3;width:270px;height350px}
.tt2 {background:#E3E3E3;width:210px;height310px;margin:30px}&lt;/p&gt;

&lt;p&gt;.block2 { float:left; width:250px; height:700px}
.block3 { float:right; width:350px; height:700px}&lt;/blockquote&gt;
中间栏的随机文章和标题评论控制是用这些函数：
&lt;blockquote&gt;$args = array( &amp;lsquo;numberposts&amp;rsquo; =&amp;gt; 5, &amp;lsquo;orderby&amp;rsquo; =&amp;gt; &amp;lsquo;rand&amp;rsquo;, &amp;lsquo;category&amp;rsquo; =&amp;gt; 7 );
$rand_posts = get_posts( $args );
foreach( $rand_posts as $post ) : setup_postdata($post); ?&amp;gt;&lt;/p&gt;

&lt;p&gt;。。。&lt;/blockquote&gt;
&amp;nbsp;
&lt;blockquote&gt;&amp;lt;?php if(function_exists(&amp;lsquo;the_views&amp;rsquo;)) { echo &amp;ldquo; | &amp;ldquo;;the_views(); } ?&amp;gt;&lt;/blockquote&gt;
这段代码是用了postviews+的插件，用于统计文章浏览次数。&lt;/p&gt;

&lt;p&gt;更多代码：
&lt;blockquote&gt;&amp;lt;?php
/*
Template Name: 首页
*/
?&amp;gt;
&amp;lt;?php get_header() ?&amp;gt;
&amp;lt;div id=&amp;ldquo;content&amp;rdquo;&amp;gt;
&amp;lt;?php the_post(); ?&amp;gt;
&amp;lt;div &amp;lt;?php post_class(&amp;lsquo;post post-page&amp;rsquo;); ?&amp;gt; id=&amp;ldquo;post-&amp;lt;?php the_ID(); ?&amp;gt;&amp;ldquo;&amp;gt;
&amp;lt;div class=&amp;ldquo;block2&amp;rdquo;&amp;gt;
&amp;lt;h2&amp;gt;&amp;lt;a href=&amp;ldquo;&lt;a href=&#34;http://daniex.info/category/coding&amp;quot;&amp;gt;编程开发&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;&amp;lt;span&amp;gt;C/C++&#34;&gt;http://daniex.info/category/coding&amp;quot;&amp;gt;编程开发&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;&amp;lt;span&amp;gt;C/C++&lt;/a&gt; java C# wpf php&amp;hellip;&amp;lt;/span&amp;gt;
&amp;lt;div class=&amp;ldquo;tt1&amp;rdquo;&amp;gt;
&amp;lt;div class=&amp;ldquo;tt2&amp;rdquo;&amp;gt;
&amp;lt;?php if(function_exists(&amp;lsquo;wp_thumbnails_for_category&amp;rsquo;)) { wp_thumbnails_for_category(&amp;lsquo;id=7&amp;amp;num=1&amp;rsquo;); } ?&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;div class=&amp;ldquo;tt1&amp;rdquo;&amp;gt;
&amp;lt;div class=&amp;ldquo;tt2&amp;rdquo;&amp;gt;
&amp;lt;?php if(function_exists(&amp;lsquo;wp_thumbnails_for_category&amp;rsquo;)) { wp_thumbnails_for_category(&amp;lsquo;id=7&amp;amp;num=1&amp;amp;order=recent&amp;rsquo;); } ?&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;style&amp;gt;
.tt1 {background:#E3E3E3;width:270px;height350px}
.tt2 {background:#E3E3E3;width:210px;height310px;margin:30px}
&amp;lt;/style&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;div class=&amp;ldquo;block3&amp;rdquo;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;?php
$args = array( &amp;lsquo;numberposts&amp;rsquo; =&amp;gt; 5, &amp;lsquo;orderby&amp;rsquo; =&amp;gt; &amp;lsquo;rand&amp;rsquo;, &amp;lsquo;category&amp;rsquo; =&amp;gt; 7 );
$rand_posts = get_posts( $args );
foreach( $rand_posts as $post ) : setup_postdata($post); ?&amp;gt;
&amp;lt;h3&amp;gt;&amp;lt;a href=&amp;rdquo;&amp;lt;?php the_permalink(); ?&amp;gt;&amp;ldquo;&amp;gt;&amp;lt;?php the_title(); ?&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;
&amp;lt;?php if (&amp;lsquo;open&amp;rsquo; == $post-&amp;gt;comment_status) { ?&amp;gt;
&amp;lt;div&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;span&amp;gt;&amp;lt;?php the_time(get_option( &amp;lsquo;date_format&amp;rsquo; )); ?&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;span id=&amp;ldquo;gotocomments&amp;rdquo;&amp;gt;&amp;lt;?php comments_popup_link(&lt;strong&gt;(&amp;lsquo;0 评论&amp;rsquo;, &amp;lsquo;zbench&amp;rsquo;), __(&amp;lsquo;1 评论&amp;rsquo;, &amp;lsquo;zbench&amp;rsquo;), &amp;lsquo;% &amp;lsquo;.&lt;/strong&gt;(&amp;rsquo; 评论&amp;rsquo;, &amp;lsquo;zbench&amp;rsquo;)); ?&amp;gt;&amp;lt;?php if(function_exists(&amp;lsquo;the_views&amp;rsquo;)) { echo &amp;ldquo; | &amp;ldquo;;the_views(); } ?&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;!&amp;ndash;&amp;lt;div&amp;gt;
&amp;lt;?php if ( $options[&amp;lsquo;excerpt_check&amp;rsquo;]==&amp;lsquo;true&amp;rsquo; ) { the_excerpt(&lt;strong&gt;(&amp;rsquo;&amp;amp;raquo; Read more&amp;hellip;&amp;lsquo;,&amp;lsquo;zbench&amp;rsquo;)); } else { the_content(&lt;/strong&gt;(&amp;rsquo;&amp;amp;raquo; Read more&amp;hellip;&amp;lsquo;,&amp;lsquo;zbench&amp;rsquo;)); } ?&amp;gt;
&amp;lt;/div&amp;gt; END entry &amp;ndash;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;?php if(is_sticky()) { ?&amp;gt;
&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;?php _e(&amp;lsquo;This is a sticky post!&amp;rsquo;, &amp;lsquo;zbench&amp;rsquo;); ?&amp;gt; &amp;lt;a href=&amp;rdquo;&amp;lt;?php the_permalink() ?&amp;gt;&amp;ldquo;&amp;gt;&amp;lt;?php _e(&amp;lsquo;continue reading?&amp;rsquo;, &amp;lsquo;zbench&amp;rsquo;); ?&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;?php } ?&amp;gt;
&amp;lt;?php } else { ?&amp;gt;
&amp;lt;div style=&amp;ldquo;height:1px;&amp;rdquo;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;?php } ?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;?php echo mb_strimwidth(strip_tags(apply_filters(‘the_content’, $post-&amp;gt;post_content)), 0, 100,&amp;ldquo;&amp;hellip;&amp;rdquo;); ?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;
&amp;lt;?php endforeach; ?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/div&amp;gt;&amp;lt;!&amp;ndash; END post &amp;ndash;&amp;gt;
&amp;lt;/div&amp;gt;&amp;lt;!&amp;ndash;content&amp;ndash;&amp;gt;
&amp;lt;?php get_sidebar() ?&amp;gt;
&amp;lt;?php get_footer() ?&amp;gt;&lt;/blockquote&gt;
&amp;nbsp;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>tomcat添加sybase数据库支持配置方法</title>
      <link>http://www.daniex.tk/blog/2011/add-sybase-database-support-tomcat-configuration/</link>
      <pubDate>Tue, 15 Nov 2011 02:22:56 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/add-sybase-database-support-tomcat-configuration/</guid>
      <description>&lt;p&gt;说起来其实很简单。&lt;/p&gt;

&lt;p&gt;1、安装sybase后到安装目录拷贝文件jconn2.jar，比如C:\sybase\jConnect-5_5\classes\jconn2.jar。&lt;/p&gt;

&lt;p&gt;2、将该文件拷贝的tomcat的lib文件夹下&lt;/p&gt;

&lt;p&gt;3、配置tomcat的conf文件夹下server.xml文件
&lt;blockquote&gt;&amp;lt;ResourceParams name=&amp;ldquo;jdbc/AutoTest&amp;rdquo;&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;url&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;jdbc:sybase:Tds:142.100.2.132:5001/AutoTest&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;maxIdle&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;2&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;maxActive&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;4&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;driverClassName&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;com.sybase.jdbc2.jdbc.SybDriver&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;maxWait&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;5000&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;username&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;saforfw&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;parameter&amp;gt;
&amp;lt;name&amp;gt;password&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;saforfw&amp;lt;/value&amp;gt;
&amp;lt;/parameter&amp;gt;
&amp;lt;/ResourceParams&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/blockquote&gt;
搞定OK，大功告成。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wordpress查看分类category的id</title>
      <link>http://www.daniex.tk/blog/2011/view-category-id-wordpress/</link>
      <pubDate>Fri, 04 Nov 2011 09:24:32 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/view-category-id-wordpress/</guid>
      <description>&lt;p style=&#34;text-align: left;&#34;&gt;在改wordpress的时候需要用到不同的函数，有的函数需要输入category的id，那，category的id在哪里查看呢？&lt;/p&gt;
&lt;p style=&#34;text-align: left;&#34;&gt;很简单，登录后台编辑所要查看的分类。dashboard -&amp;gt; posts -&amp;gt;categories -&amp;gt; edit 你所要查看的分类。在浏览器地址栏就会有id的数字显示，如下图：&lt;/p&gt;
&lt;p style=&#34;text-align: center;&#34;&gt;&lt;img class=&#34;aligncenter&#34; src=&#34;data:image/png;base64,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&#34; alt=&#34;&#34; width=&#34;633&#34; height=&#34;87&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>利用wp_dorpdown_categories做worldpress文章分类下拉框『转』</title>
      <link>http://www.daniex.tk/blog/2011/wp_dorpdown_categories/</link>
      <pubDate>Wed, 26 Oct 2011 03:07:57 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/wp_dorpdown_categories/</guid>
      <description>&lt;p&gt;昨天折腾wp侧边栏，主题默认的是一栏，但是放分类列表和友情链接的时候空了很多，太浪费。于是折腾了下分栏，找wp写好的一些函数调用来展示内容。以下是参考的文章。相关请看&lt;span style=&#34;color: #3366ff;&#34;&gt;&lt;a title=&#34;利用wp_list_categories做worldpress文章分类列表&#34; href=&#34;http://daniex.info/wp_list_categories.html&#34; target=&#34;_blank&#34;&gt;&lt;span style=&#34;color: #3366ff;&#34;&gt;wp_list_categories&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;一文。
&lt;h3&gt;————————————————————————————————&lt;/h3&gt;
&lt;h3&gt;说明&lt;/h3&gt;
该标签在一个没有提交按钮的选择框（如下拉式选框）中展示分类目录列表。
&lt;h3&gt;用法&lt;/h3&gt;
&amp;lt;?php wp_dropdown_categories( $args ); ?&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;默认用法&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;?php $args = array(
&amp;lsquo;show_option_all&amp;rsquo; =&amp;gt; ,
&amp;lsquo;show_option_none&amp;rsquo; =&amp;gt; ,
&amp;lsquo;orderby&amp;rsquo; =&amp;gt; &amp;lsquo;ID&amp;rsquo;,
&amp;lsquo;order&amp;rsquo; =&amp;gt; &amp;lsquo;ASC&amp;rsquo;,
&amp;lsquo;show_last_update&amp;rsquo; =&amp;gt; 0,
&amp;lsquo;show_count&amp;rsquo; =&amp;gt; 0,
&amp;lsquo;hide_empty&amp;rsquo; =&amp;gt; 1,
&amp;lsquo;child_of&amp;rsquo; =&amp;gt; 0,
&amp;lsquo;exclude&amp;rsquo; =&amp;gt; ,
&amp;lsquo;echo&amp;rsquo; =&amp;gt; 1,
&amp;lsquo;selected&amp;rsquo; =&amp;gt; 0,
&amp;lsquo;hierarchical&amp;rsquo; =&amp;gt; 0,
&amp;lsquo;name&amp;rsquo; =&amp;gt; &amp;lsquo;cat&amp;rsquo;,
&amp;lsquo;class&amp;rsquo; =&amp;gt; &amp;lsquo;postform&amp;rsquo;,
&amp;lsquo;depth&amp;rsquo; =&amp;gt; 0 ); ?&amp;gt;&lt;/p&gt;

&lt;p&gt;默认情况下的显示状态：
&lt;ul&gt;
    &lt;li&gt;升序排列分类目录ID&lt;/li&gt;
    &lt;li&gt;不显示最新更新&lt;/li&gt;
    &lt;li&gt;不显示分类目录下的文章总数&lt;/li&gt;
    &lt;li&gt;不显示“空”分类&lt;/li&gt;
    &lt;li&gt;不排除任何分类&lt;/li&gt;
    &lt;li&gt;显示（回应）分类目录&lt;/li&gt;
    &lt;li&gt;选项框中不选中任何分类&lt;/li&gt;
    &lt;li&gt;不以分层结构显示分类目录&lt;/li&gt;
    &lt;li&gt;为列表命名为“cat”&lt;/li&gt;
    &lt;li&gt;将列表赋值给&amp;rsquo;postform&amp;rsquo;类&lt;/li&gt;
    &lt;li&gt;无层数限制&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;参数&lt;/h3&gt;
&lt;strong&gt;show_option_all&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）生成下拉式选项框的HTML，从而允许你选定所有分类目录。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;show_option_none&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）生成下拉式选项框的HTML，从而允许你不选定任何分类目录。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;orderby&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）按某种标准为分类目录排序。有效值包括：
&lt;ul&gt;
    &lt;li&gt;&amp;lsquo;ID&amp;rsquo; ——默认值&lt;/li&gt;
    &lt;li&gt;&amp;lsquo;name&amp;rsquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;order&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）为分类目录排序（升序或降序）有效值包括：
&lt;ul&gt;
    &lt;li&gt;&amp;lsquo;ASC&amp;rsquo;（升序） ——默认值&lt;/li&gt;
    &lt;li&gt;&amp;lsquo;DESC&amp;rsquo;（降序）&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;show_last_updated&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（布尔型）是（TRUE）否（FALSE）显示分类目录下最新更新日志的日期。默认值为FALSE。&lt;/p&gt;

&lt;p&gt;有效值包括：
&lt;ul&gt;
    &lt;li&gt;1 （true）&lt;/li&gt;
    &lt;li&gt;0（false）——默认值&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;show_count&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（布尔型）是否显示每个分类目录下现有的日志总数。有效值包括：
&lt;ul&gt;
    &lt;li&gt;1 （true）&lt;/li&gt;
    &lt;li&gt;0（false）——默认值&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;hide_empty&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（布尔型）是否隐藏（不显示）不含有文章的分类目录。有效值包括：
&lt;ul&gt;
    &lt;li&gt;1 （true）——默认值&lt;/li&gt;
    &lt;li&gt;0（false）&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;child_of（整数）&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;只显示某一个分类的子分类；用该分类的ID作为参数值。无默认值。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;exclude&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）将要排除的分类目录的ID列表，各ID用逗号隔开。例如， &amp;lsquo;exclude=4,12&amp;rsquo; 表示不显示或返回ID为4和12的分类。默认值为不排除任何分类。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;exclude_tree&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）定义需要排除的父分类ID列表，各ID用逗号隔开。用该参数排除某个父分类目录及其所有子分类目录。因此 &amp;lsquo;exclude_tree=5&amp;rsquo; 可排除ID为5的父分类及其所有子分类。该参数引入于WP &lt;a title=&#34;Version 2.7.1&#34; href=&#34;http://codex.wordpress.org/Version_2.7.1&#34;&gt;2.7.1&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;echo&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（布尔型）显示结果（TRUE），或返回结果以供PHP使用（FALSE）。默认值为TRUE。
&lt;ul&gt;
    &lt;li&gt;1 （true）——默认值&lt;/li&gt;
    &lt;li&gt;0（false）&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;selected&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（整数）在显示框中选中/显示的分类目录的ID。默认为不选中任何分类目录。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;hierarchical&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（布尔型）以分层形式显示分类目录（子分类目录内嵌于其父分类目录下）。默认值为FALSE。有效值包括：
&lt;ul&gt;
    &lt;li&gt;1 （True）—— 默认值&lt;/li&gt;
    &lt;li&gt;0 （False）&lt;/li&gt;
&lt;/ul&gt;
&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）下拉式选框被赋予的名称。默认为cat&amp;rsquo;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;class&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;（字符串）被赋给下拉式选项框的类，默认为&amp;rsquo;postform&amp;rsquo;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;depth（整数）&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;该参数决定wp_list_pages所生成的分类目录列表中所允许的分类层级的层数。默认值为0（显示包括子分类目录在内的所有分类目录）。该参数引入于WP &lt;a title=&#34;Version 2.5&#34; href=&#34;http://codex.wordpress.org/Version_2.5&#34;&gt;2.5&lt;/a&gt;。
&lt;ul&gt;
    &lt;li&gt;0 —— 显示所有分类目录和他们的子分类目录（默认）&lt;/li&gt;
    &lt;li&gt;-1 —— 以平面（不缩进）方式显示所有分类目录和他们的子分类目录&lt;/li&gt;
    &lt;li&gt;1 —— 只显示顶级分类目录&lt;/li&gt;
    &lt;li&gt;n —— 该值表示可以缩进显示的分类目录层数。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;示例&lt;/h3&gt;
&lt;strong&gt;带有提交按钮的下拉式选项框&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在WordPress侧边栏的无序列表中，以HTML格式显示带有层级的分类目录下拉式列表，有提交按钮，给出各分类目录下的文章总数。
&lt;pre&gt;&amp;lt;li id=&amp;ldquo;categories&amp;rdquo;&amp;gt;
 &amp;lt;h2&amp;gt;&amp;lt;?php _e(&amp;lsquo;Categories:&amp;lsquo;); ?&amp;gt;&amp;lt;/h2&amp;gt;
   &amp;lt;form action=&amp;rdquo;&amp;lt;?php bloginfo(&amp;lsquo;url&amp;rsquo;); ?&amp;gt;&amp;rdquo; method=&amp;ldquo;get&amp;rdquo;&amp;gt;
   &amp;lt;?php wp_dropdown_categories(&amp;lsquo;show_count=1&amp;amp;hierarchical=1&amp;rsquo;); ?&amp;gt;
   &amp;lt;input type=&amp;ldquo;submit&amp;rdquo; name=&amp;ldquo;submit&amp;rdquo; value=&amp;ldquo;view&amp;rdquo; /&amp;gt;
   &amp;lt;/form&amp;gt;
&amp;lt;/li&amp;gt;&lt;/pre&gt;
&lt;strong&gt;用JavaScript显示一个没有提交按钮的下拉式选项框&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;下面这个示例摘自&lt;a href=&#34;http://wordpress.org/support/topic/145489?replies=13#post-657759&#34;&gt;WordPress论坛上的一个帖子&lt;/a&gt;，该示例借用了show_option_none参数。
&lt;blockquote&gt;&amp;lt;li id=&amp;ldquo;categories&amp;rdquo;&amp;gt;&amp;lt;h2&amp;gt;&amp;lt;?php _e(&amp;lsquo;Posts by Category&amp;rsquo;); ?&amp;gt;&amp;lt;/h2&amp;gt;
&amp;lt;?php wp_dropdown_categories(&amp;lsquo;show_option_none=Select category&amp;rsquo;); ?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;script type=&amp;ldquo;text/javascript&amp;rdquo;&amp;gt;&amp;lt;!&amp;ndash;
var dropdown = document.getElementById(&amp;ldquo;cat&amp;rdquo;);
function onCatChange() {
if ( dropdown.options[dropdown.selectedIndex].value &amp;gt; 0 ) {
location.href = &amp;ldquo;&amp;lt;?php echo get_option(&amp;lsquo;home&amp;rsquo;);
?&amp;gt;/?cat=&amp;ldquo;+dropdown.options[dropdown.selectedIndex].value;
}
}
dropdown.onchange = onCatChange;
&amp;ndash;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/li&amp;gt;&lt;/blockquote&gt;
&lt;strong&gt;用JavaScript显示一个没有提交按钮的下拉式选项框（2）&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;下面这段代码使用了echo参数（echo=0）。在JavaScript代码中插入一个简单的 &lt;em&gt;preg_replace&lt;/em&gt;。即使没有JavaScript，代码也可正常运行（提交按钮被noscript标签包裹）。
&lt;blockquote&gt;&amp;lt;li id=&amp;ldquo;categories&amp;rdquo;&amp;gt;
&amp;lt;h2&amp;gt;&amp;lt;?php _e(&amp;lsquo;Posts by Category&amp;rsquo;); ?&amp;gt;&amp;lt;/h2&amp;gt;
&amp;lt;form action=&amp;rdquo;&amp;lt;?php bloginfo(&amp;lsquo;url&amp;rsquo;); ?&amp;gt;/&amp;rdquo; method=&amp;ldquo;get&amp;rdquo;&amp;gt;
&amp;lt;?php
$select = wp_dropdown_categories(&amp;lsquo;show_option_none=Select category&amp;amp;show_count=1&amp;amp;orderby=name&amp;amp;echo=0&amp;rsquo;);
$select = preg_replace(&amp;ldquo;#&amp;lt;select([^&amp;gt;]*)&amp;gt;#&amp;ldquo;, &amp;ldquo;&amp;lt;select$1 onchange=&amp;lsquo;return this.form.submit()&amp;rsquo;&amp;gt;&amp;rdquo;, $select);
echo $select;
?&amp;gt;
&amp;lt;noscript&amp;gt;&amp;lt;input type=&amp;ldquo;submit&amp;rdquo; value=&amp;ldquo;View&amp;rdquo; /&amp;gt;&amp;lt;/noscript&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;/li&amp;gt;&lt;/blockquote&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>利用wp_list_categories做worldpress文章分类列表</title>
      <link>http://www.daniex.tk/blog/2011/wp_list_categories/</link>
      <pubDate>Tue, 25 Oct 2011 06:12:04 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/wp_list_categories/</guid>
      <description>&lt;p&gt;折腾wp侧边栏，主题默认的是一栏，但是放分类列表和友情链接的时候空了很多，太浪费。于是折腾了下分栏，找wp写好的一些函数调用来展示内容。以下是参考的文章。相关请看&lt;a title=&#34;利用wp_dorpdown_categories做worldpress文章分类下拉框『转』&#34; href=&#34;http://daniex.info/wp_dorpdown_categories.html&#34; target=&#34;_blank&#34;&gt;wp_dropdown_categories&lt;/a&gt;一文。
&lt;h3&gt;————————————————————————————————&lt;/h3&gt;
&lt;strong&gt;分类标签 wp_list_categories&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;wp_list_categories标签负责的是分类的调用，在模板archive.php文件中添加wp_list_categories标签可以调用wp程序的存档。&lt;/p&gt;

&lt;p&gt;用法如下：
wp_list_categories标签的所有数值：
show_option_all
值：任意填。
如果你写&amp;lt;?php wp_list_categories(’show_option_all=*’); ?&amp;gt;，那么在列表第一个分类就显示“*”两字，不过连接是连接到blog首页的，正好可以利用此参数加个“首页”。&lt;/p&gt;

&lt;p&gt;orderby
值：ID、name（默认值）、count。
作用是按这3个值来排序。
order
值：ASC（默认值）、DESC。
ASC为升序，DESC为降序。&lt;/p&gt;

&lt;p&gt;show_last_updated
值：0（默认值）、1。
0无作用，1为最近更新的分类显示在前面。&lt;/p&gt;

&lt;p&gt;style
值：list（默认值）、none。
例6中已经举例了。none无作用。&lt;/p&gt;

&lt;p&gt;show_count
值：0、1（默认值）
1在每个分类后面显示日志数量，0不显示。&lt;/p&gt;

&lt;p&gt;hide_empty
值：0、1（默认值）
1是隐藏没有发表日志的分类，0是显示所有。&lt;/p&gt;

&lt;p&gt;use_desc_for_title
值：0、1（默认值）
0为关闭说明，1为显示说明。上面有例子。&lt;/p&gt;

&lt;p&gt;child_of
值：数字
显示指定ID（也就是所填的这个数字）下的子分类。&lt;/p&gt;

&lt;p&gt;feed
值：任意
假如你填“啊!”，那么在你每个分类后面都会出现“(啊!)”，连接地址是RSS地址。&lt;/p&gt;

&lt;p&gt;feed_image
值：任意。虽然任意，但是是个图片的地址才对。
用来在分类后面显示个RSS Feed图标，上面有例子。&lt;/p&gt;

&lt;p&gt;exclude
值：任意。但是要填分类名称或者分类ID才有效。
用来过滤（或者说隐藏）某个分类在列表中的出现。&lt;/p&gt;

&lt;p&gt;include
值：任意。但是要填分类名称或者分类ID才有效。
作用是只显示所填的这个分类名或ID。&lt;/p&gt;

&lt;p&gt;hierarchical
值：0、1（默认值）
说是按分类文章数目排列的，但测试无效果。&lt;/p&gt;

&lt;p&gt;title_li
值：任意
用来改变列表标题的。&lt;/p&gt;

&lt;p&gt;number
值：整数
设置一个显示上限。&lt;/p&gt;

&lt;p&gt;数值应用举例：&lt;/p&gt;

&lt;p&gt;1.包含或排除某分类：
意思就是把分类ID为3，5，9，16的分类按名称顺序来排序：
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’orderby=name&amp;amp;include=3,5,9,16′); ?&amp;gt;&lt;/blockquote&gt;
按名称排列，并显示每个分类的日志总数，并不显示ID为10的分类：
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’orderby=name&amp;amp;show_count=1&amp;amp;exclude=10′); ?&amp;gt;&lt;/blockquote&gt;
2.显示或隐藏列表标题：
过滤ID为4和7的分类，并且列表标题设置为“哈哈”：
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’exclude=4,7&amp;amp;title_li=哈哈’); ?&amp;gt;&lt;/blockquote&gt;
列表中只显示ID为5、9、23的分类，并把列表标题改为Poetry（下面的格式是为了把“要显示的数据”和“标签参数区分开来”）
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’include=5,9,23&amp;amp;title_li=&amp;lt;h2&amp;gt;’ . __(’Poetry’) . ‘&amp;lt;/h2&amp;gt;’ ); ?&amp;gt;&lt;/blockquote&gt;
3.这个参数的意思是：按ID排序，关闭分类说明（就是鼠标移动到连接上就不显示你在后台填的分类说明了，只显示“察看XX分类下的所有文章”），并且只显示ID为8的分类下的子分类，如果没有，则参数无效，会按默认来显示。
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’orderby=id&amp;amp;show_count=1&amp;amp;use_desc_for_title=0&amp;amp;child_of=8′); ?&amp;gt;&lt;/blockquote&gt;
4.外观是分类后面显示个（RSS），作用就不用我说了吧？
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’orderby=name&amp;amp;show_count=1&amp;amp;feed=RSS’); ?&amp;gt;&lt;/blockquote&gt;
5.这个比较酷，相信大家都喜欢：
分类名称后面显示一个自己制定的小图标，作用是RSS。
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’orderby=name&amp;amp;show_count=1&amp;amp;feed_image=/images/rss.gif’); ?&amp;gt;&lt;/blockquote&gt;
6.花式列表：
改变当前正在浏览的分类名字的样式。’style=list’的作用是给输出的html代码&lt;/p&gt;

&lt;p&gt;中加一个class=”current-cat”， 然后你在CSS里添一个.current-cat {color:red;}那么我浏览分类AAA时，列表中的“AAA”3个字就是红色的，浏览BBB，“BBB”就是红色的。
&lt;blockquote&gt;&amp;lt;?php wp_list_categories(’style=list’ ); ?&amp;gt;&lt;/blockquote&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wpf toolkit datagrid 添加图片</title>
      <link>http://www.daniex.tk/blog/2011/wpf-toolkit-datagrid-add-a-picture/</link>
      <pubDate>Sat, 22 Oct 2011 03:43:32 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/wpf-toolkit-datagrid-add-a-picture/</guid>
      <description>&lt;p&gt;&lt;del&gt;找了半天，不幸地发现，wpf toolkit datagrid 要添加图片列，没有普遍的方法。除非加另外的库或者写很复杂的代码。&lt;/del&gt;
&lt;h2&gt;&lt;span style=&#34;color: #0000ff;&#34;&gt;该句删除，因为，下午刚发现这是有办法的！！！&lt;/span&gt;&lt;/h2&gt;
网上大多加图片的例子都是基于.net 4.0自带的datagrid控件，不要折腾wpf toolkit了，直接升4.0或者更高吧。。。&lt;/p&gt;

&lt;p&gt;列几个参考地址：&lt;a href=&#34;http://www.cnblogs.com/wainiwann/archive/2011/05/27/WPF_DataGrid.html&#34; target=&#34;_blank&#34;&gt;wpf中自定义DataGrid控件&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.cnblogs.com/nickli/archive/2010/10/07/1845175.html&#34; target=&#34;_blank&#34;&gt;wpf datagrid数据绑定&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a id=&#34;ctl02_TitleUrl&#34; href=&#34;http://www.cnblogs.com/mr0512/archive/2011/04/12/2014118.html&#34; target=&#34;_blank&#34;&gt;Datagrid动态绑定的数据作为图片列添加&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;比较方便的方法还是篇中的方法：
&lt;pre&gt;28 &amp;lt;DataGridTemplateColumn.CellTemplate&amp;gt;
29 &amp;lt;DataTemplate &amp;gt;
30 &amp;lt;Grid Height=&amp;ldquo;75&amp;rdquo; Background=&amp;ldquo;Transparent&amp;rdquo; &amp;gt;
31 &amp;lt;Grid.ColumnDefinitions&amp;gt;
32 &amp;lt;ColumnDefinition Width=&amp;rdquo;&lt;em&gt;&amp;rdquo;/&amp;gt;
33 &amp;lt;ColumnDefinition Width=&amp;ldquo;6&lt;/em&gt;&amp;rdquo;/&amp;gt;
34 &amp;lt;/Grid.ColumnDefinitions&amp;gt;
35 &amp;lt;Grid Margin=&amp;ldquo;10,0,0,0&amp;rdquo; Grid.Column=&amp;ldquo;1&amp;rdquo; &amp;gt;
36 &amp;lt;Grid.RowDefinitions&amp;gt;
37 &amp;lt;RowDefinition Height=&amp;rdquo;&lt;em&gt;&amp;rdquo;/&amp;gt;
38 &amp;lt;RowDefinition Height=&amp;ldquo;2&lt;/em&gt;&amp;rdquo;/&amp;gt;
39 &amp;lt;/Grid.RowDefinitions&amp;gt;
40 &amp;lt;TextBlock Grid.Row=&amp;ldquo;0&amp;rdquo; Margin=&amp;ldquo;0,5,0,0&amp;rdquo; Height=&amp;ldquo;24&amp;rdquo; Foreground=&amp;ldquo;Red&amp;rdquo; FontSize=&amp;ldquo;20&amp;rdquo; FontFamily=&amp;ldquo;方正舒体&amp;rdquo; TextWrapping=&amp;ldquo;Wrap&amp;rdquo; Text=&amp;ldquo;{Binding Sex}&amp;rdquo;/&amp;gt;
41 &amp;lt;TextBlock Margin=&amp;ldquo;1.429,15,0,0&amp;rdquo; Foreground=&amp;ldquo;Blue&amp;rdquo; Grid.Row=&amp;ldquo;1&amp;rdquo; FontFamily=&amp;ldquo;微软雅黑&amp;rdquo; TextWrapping=&amp;ldquo;Wrap&amp;rdquo; Text=&amp;ldquo;{Binding Name}&amp;rdquo;/&amp;gt;
42 &amp;lt;/Grid&amp;gt;
43 &amp;lt;Image Margin=&amp;ldquo;7,9,8,8&amp;rdquo; Source=&amp;ldquo;{Binding Pic}&amp;rdquo;/&amp;gt;
44
45 &amp;lt;/Grid&amp;gt;
46 &amp;lt;/DataTemplate&amp;gt;
47 &amp;lt;/DataGridTemplateColumn.CellTemplate&amp;gt;&lt;/pre&gt;
&lt;span style=&#34;color: #ff6600;&#34;&gt; ##################################################&lt;/span&gt;
&lt;h2&gt;&lt;span style=&#34;color: #ff6600;&#34;&gt;我承认我二！极其地特别的！！wpf toolkit datagrid有添加图片有方法！！！超简单！！！！&lt;/span&gt;&lt;/h2&gt;
&lt;pre&gt;&amp;lt;my:DataGridTemplateColumn Header=&amp;ldquo;{x:Static resx:Resources.tcDetailStatus}&amp;rdquo;&amp;gt;
&amp;lt;my:DataGridTemplateColumn.CellTemplate&amp;gt;
&amp;lt;DataTemplate&amp;gt;
&amp;lt;Image Source=&amp;ldquo;Images/Untested.png&amp;rdquo; /&amp;gt;
&amp;lt;/DataTemplate&amp;gt;
&amp;lt;/my:DataGridTemplateColumn.CellTemplate&amp;gt;
&amp;lt;/my:DataGridTemplateColumn&amp;gt;&lt;/pre&gt;
&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;羞愧！掩面。。。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SYBASE数据库日志详解(转)</title>
      <link>http://www.daniex.tk/blog/2011/sybase-database-log-r/</link>
      <pubDate>Sun, 09 Oct 2011 02:18:46 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/sybase-database-log-r/</guid>
      <description>&lt;p&gt;写了点sybase相关的代码，发现数据库配置的时候少做了点配置，导致日志很快就满，无法进行下一步操作。查了下资料，转载过来。&lt;/p&gt;

&lt;p&gt;弄sybase遇到一个比较诡异的事情，就是ABC三人弄了三个sybase数据库，A连AB没问题连C有问题，B连B没问题连C有问题，C连A没问题，连BC有问题。数据库连接的代码都是一样的，闹腾啊。&lt;/p&gt;

&lt;p&gt;&amp;nbsp;
&lt;h1&gt;SYBASE数据库日志详解&lt;/h1&gt;
&lt;div&gt;&lt;/p&gt;

&lt;p&gt;每个数据库都有自己的事务日志（Transaction　Log），即系统表（Syslogs），日志对于数据库的数据安全性、完整性至关重要，本文详解SYBASE数据库日志。&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
我们知道，SYBASE　SQL Server用事务（Transaction）来跟踪所有数据库的变化。事务是SQL　Server的工作单元。一个事务包含一条或多条作为整体执行的 T-SQL语句。每个数据库都有自己的事务日志（Transaction　Log），即系统表（Syslogs）。事务日志自动记录每个用户发出的每个事 务。日志对于数据库的数据安全性、完整性至关重要，我们进行数据库开发和维护必须熟知日志的相关知识。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;一、SYBASE　SQL Server 如何记录和读取日志信息&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;SYBASE　SQL Server是先记Log的机制。每当用户执行将修改数据库的语句时，SQL　Server就会自动地把变化写入日志。一条语句所产生的所有变化都被记录 到日志后，它们就被写到数据页在缓冲区的拷贝里。该数据页保存在缓冲区中，直到别的数据页需要该内存时，该数据页才被写到磁盘上。若事务中的某条语句没能 完成，SQL　Server将回滚事务产生的所有变化。这样就保证了整个数据库系统的一致性和完整性。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;二、日志设备&lt;/strong&gt;
Log和数据库的Data一样，需要存放在数据库设备上，可以将Log和Data存放在同一设备上，也可以分开 存放。一般来说，应该将一个数据库的Data和Log存放在不同的数据库设备上。这样做有如下好处：一是可以单独地备份Backup　事务日志；二是防 止数据库溢满；三是可以看到Log的空间使用情况。
所建Log设备的大小，没有十分精确的方法来确定。一般来说，对于新建的数据库，Log的大小 应为数据库大小的30%左右。Log的大小还取决于数据库修改的频繁程度。如果数据库修改频繁，则Log的增长十分迅速。所以说Log空间大小依赖于用户 是如何使用数据库的。此外，还有其它因素影响Log大小，我们应该根据实际操作情况估计Log大小，并间隔一段时间就对Log进行备份和清除。
&lt;strong&gt;三、日志的清除&lt;/strong&gt;
随着数据库的使用，数据库的Log是不断增长的，必须在它占满空间之前将它们清除掉。清除Log有两种方法：
&lt;strong&gt;1.自动清除法
&lt;/strong&gt;
开放数据库选项 Trunc Log on Chkpt，使数据库系统每隔一段时间自动清除Log。此方法的优点是无须人工干预，由SQL　Server自动执行，并且一般不会出现Log溢满的情况；缺点是只清除Log而不做备份。
&lt;strong&gt;2.手动清除法&lt;/strong&gt;
执行命令“dump transaction”来清除Log。以下两条命令都可以清除日志：
&lt;table width=&#34;400&#34; border=&#34;1&#34; cellspacing=&#34;0&#34; cellpadding=&#34;2&#34; align=&#34;center&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td bgcolor=&#34;#e6e6e6&#34;&gt;
dump transaction with truncate_only
dump transaction with no_log
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
通常删除事务日志中不活跃的部分可使用“dump transaction with trancate_only”命令，这条命令写进事务日志时，还要做必要的并发性检查。SYBASE提供“dump transaction with no_log”来处理某些非常紧迫的情况，使用这条命令有很大的危险性，SQL　Server会弹出一条警告信息。为了尽量确保数据库的一致性，你应将它 作为“最后一招”。
以上两种方法只是清除日志，而不做日志备份，若想备份日志，应执行“dump transaction database_name to dumpdevice”命令。
&lt;strong&gt;四、管理庞大的事务&lt;/strong&gt;
有些操作会大批量地修改数据，如大量数据的修改（Update）、删除一个表的所有数据（Delete）、大量数据的插入（Insert），这样会使Log增长速度很快，有溢满的危险。下面笔者给大家介绍一下如何拆分大事务，以避免日志的溢满。
例 如执行“update tab_a set col_a=0”命令时，若表tab_a很大，则此Update动作在未完成之前就可能使Log溢满，引起1105错误（Log Full），而且执行这种大的事务所产生的独占锁（Exclusive Table Lock），会阻止其他用户在执行Update操作期间修改这个表，这就有可能引起死锁。为避免这些情况发生，我们可以把这个大的事务分成几个小的事务， 并执行“dump transaction”动作。
上例中的情况就可以分成两个或多个小的事务：
&lt;table width=&#34;400&#34; border=&#34;1&#34; cellspacing=&#34;0&#34; cellpadding=&#34;2&#34; align=&#34;center&#34;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td bgcolor=&#34;#e6e6e6&#34;&gt;
update tab_a set col_a=0 where col_b&amp;gt;x
go
dump transaction database_name with truncate_only
go
update tab_a set col_a=0 where col_b &amp;lt;=x
go
dump transaction database_name with truncate_only
go
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
这样，一个大的事务就被分成两个较小的事务。
按照上述方法可以根据需要任意拆分大的事务。若这个事务需要备份到介质上，则不用“with truncate_only”选项。若执行“dump transaction with truncate_only”命令，应该先执行“dump database”。以此类推，我们可以对表删除、表插入等大事务做相应的拆分。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>C#线程开始/暂停/终止</title>
      <link>http://www.daniex.tk/blog/2011/csharp-thread-start-stop-pause/</link>
      <pubDate>Thu, 29 Sep 2011 07:44:39 &#43;0000</pubDate>
      <author>Daniex</author>
      <guid>http://www.daniex.tk/blog/2011/csharp-thread-start-stop-pause/</guid>
      <description>&lt;p&gt;写测试工具需要多线程的暂停终止。用C#的 Thread.about()  join() resume() suspend()又提示函数过时了，不建议使用。于是四处找方法，信号量、互斥锁什么的方法也不少，找到下面这个方法，倒是很实用，转载如下：&lt;/p&gt;

&lt;p&gt;&amp;nbsp;
&lt;h1&gt;C#关于AutoResetEvent的使用介绍（转）&lt;/h1&gt;
&lt;strong&gt;AutoResetEvent&lt;/strong&gt; 允许线程通过发信号互相通信。通常，此通信涉及线程需要独占访问的资源。&lt;/p&gt;

&lt;p&gt;线程通过调用 &lt;strong&gt;AutoResetEvent&lt;/strong&gt; 上的 &lt;span style=&#34;color: #1d58d1;&#34;&gt;WaitOne&lt;/span&gt; 来等待信号。如果 &lt;strong&gt;AutoResetEvent&lt;/strong&gt; 处于非终止状态，则该线程阻塞，并等待当前控制资源的线程
通过调用 &lt;span style=&#34;color: #1d58d1;&#34;&gt;Set&lt;/span&gt; 发出资源可用的信号。&lt;/p&gt;

&lt;p&gt;调用 &lt;strong&gt;Set&lt;/strong&gt; 向 &lt;strong&gt;AutoResetEvent&lt;/strong&gt; 发信号以释放等待线程。&lt;strong&gt;AutoResetEvent&lt;/strong&gt; 将保持终止状态，直到一个正在等待的线程被释放，然后自动返回非终止状态。如果没有任何线程在等待，则状态将无限期地保持为终止状态。&lt;/p&gt;

&lt;p&gt;可以通过将一个布尔值传递给构造函数来控制 &lt;strong&gt;AutoResetEvent&lt;/strong&gt; 的初始状态，如果初始状态为终止状态，则为 &lt;strong&gt;true&lt;/strong&gt;；否则为 &lt;strong&gt;false&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;通俗的来讲只有等myResetEven.Set()成功运行后,myResetEven.WaitOne()才能够获得运行机会;Set是发信号，WaitOne是等待信号，只有发了信号，
等待的才会执行。如果不发的话，WaitOne后面的程序就永远不会执行。下面我们来举一个例子：我去书店买书，当我选中一本书后我会去收费处付钱，
付好钱后再去仓库取书。这个顺序不能颠倒，我作为主线程，收费处和仓库做两个辅助线程，代码如下：
&lt;pre&gt;using System;
using System.Linq;
using System.Activities;
using System.Activities.Statements;
using System.Threading;&lt;/p&gt;

&lt;p&gt;namespace CaryAREDemo
{
    class Me
    {
        const int numIterations = 550;
        static AutoResetEvent myResetEvent = new AutoResetEvent(false);
        static AutoResetEvent ChangeEvent = new AutoResetEvent(false);
        //static ManualResetEvent myResetEvent = new ManualResetEvent(false);
        //static ManualResetEvent ChangeEvent = new ManualResetEvent(false);
        static int number; //这是关键资源&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    static void Main()
    {
        Thread payMoneyThread = new Thread(new ThreadStart(PayMoneyProc));
        payMoneyThread.Name = &amp;quot;付钱线程&amp;quot;;
        Thread getBookThread = new Thread(new ThreadStart(GetBookProc));
        getBookThread.Name = &amp;quot;取书线程&amp;quot;;
        payMoneyThread.Start();
        getBookThread.Start();

        for (int i = 1; i &amp;amp;lt;= numIterations; i++)
        {
            Console.WriteLine(&amp;quot;买书线程：数量{0}&amp;quot;, i);
            number = i;
            //Signal that a value has been written.
            myResetEvent.Set();
            ChangeEvent.Set();
            Thread.Sleep(0);
        }
        payMoneyThread.Abort();
        getBookThread.Abort();
    }

    static void PayMoneyProc()
    {
        while (true)
        {
            myResetEvent.WaitOne();
            //myResetEvent.Reset();
            Console.WriteLine(&amp;quot;{0}：数量{1}&amp;quot;, Thread.CurrentThread.Name, number);
        }
    }
    static void GetBookProc()
    {
        while (true)
        {
            ChangeEvent.WaitOne();
            // ChangeEvent.Reset();               
            Console.WriteLine(&amp;quot;{0}：数量{1}&amp;quot;, Thread.CurrentThread.Name, number);
            Console.WriteLine(&amp;quot;------------------------------------------&amp;quot;);
            Thread.Sleep(0);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;}
运行结果如下：&lt;/pre&gt;
&lt;p style=&#34;text-align: center;&#34;&gt;&lt;img class=&#34;aligncenter&#34; style=&#34;border: 0pt none;&#34; src=&#34;http://www.csharpwin.com/upload/003250JL-0.png&#34; alt=&#34;image&#34; width=&#34;242&#34; height=&#34;229&#34; border=&#34;0&#34; /&gt;&lt;/p&gt;
AutoResetEvent与ManualResetEvent的区别&lt;/p&gt;

&lt;p&gt;他们的用法\声明都很类似，Set方法将信号置为发送状态 Reset方法将信号置为不发送状态WaitOne等待信号的发送。其实,从名字就可以看出一个手动,
一个自动，这个手动和自动实际指的是在Reset方法的处理上,如下面例子：&lt;/p&gt;

&lt;p&gt;public AutoResetEvent autoevent=new AutoResetEvent(true);
public ManualResetEvent manualevent=new ManualResetEvent(true);&lt;/p&gt;

&lt;p&gt;默认信号都处于发送状态,&lt;/p&gt;

&lt;p&gt;autoevent.WaitOne();
manualevent.WaitOne();&lt;/p&gt;

&lt;p&gt;如果 某个线程调用上面该方法,则当信号处于发送状态时,该线程会得到信号,得以继续执行。差别就在调用后,autoevent.WaitOne()每次只允许一个线程
进入,当某个线程得到信号(也就是有其他线程调用了autoevent.Set()方法后)后,autoevent会自动又将信号置为不发送状态,则其他调用WaitOne的线程只
有继续等待.也就是说,autoevent一次只唤醒一个线程。而manualevent则可以唤醒多个线程,因为当某个线程调用了set方法后,其他调用waitone的线程
获得信号得以继续执行,而manualevent不会自动将信号置为不发送.也就是说,除非手工调用了manualevent.Reset().方法,则 manualevent将一直保持有信号状态,manualevent也就可以同时唤醒多个线程继续执行。如果上面的程序换成 ManualResetEvent的话，就需要在waitone后面做下reset。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>